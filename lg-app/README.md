# Mega Radio - LG webOS TV App

This directory contains the LG webOS TV build of Mega Radio.

## 📋 Prerequisites

1. **LG webOS TV SDK** - Install the CLI tools:
   ```bash
   npm install -g @webosose/ares-cli
   ```

2. **LG TV Developer Account**:
   - Register at: https://webostv.developer.lge.com/
   - Enable Developer Mode on your LG TV

3. **Replace SDK File**:
   - Download official webOSTV.js from: https://webostv.developer.lge.com/sdk/
   - Replace `lg-app/js/webOSTVjs-1.2.0/webOSTV.js` with the official version

## 🔨 Building the App

Run the build script from the project root:

```bash
cd lg-app
bash build-lg-webos.sh
```

This will:
- Build the React app with LG webOS compatibility
- Copy all assets (images, scripts, bundles)
- Create proper `index.html` for webOS
- Prepare the app for packaging

## 📦 Packaging

After building, create the IPK package:

```bash
cd lg-app
ares-package .
```

This creates: `com.megaradio.tv_1.0.0_all.ipk`

## 🚀 Installing on LG TV

### 1. Setup TV Connection

Enable Developer Mode on your TV, then add it to ares-cli:

```bash
ares-setup-device
```

Follow prompts to add your TV (you'll need its IP address).

### 2. Install the App

```bash
ares-install --device <YOUR_TV_NAME> com.megaradio.tv_1.0.0_all.ipk
```

### 3. Launch the App

```bash
ares-launch --device <YOUR_TV_NAME> com.megaradio.tv
```

## 📱 App Structure

```
lg-app/
├── appinfo.json           # LG webOS app configuration
├── index.html             # Main entry point (generated by build)
├── assets/                # React bundle
│   └── index-*.js
├── images/                # App icons and images
│   ├── icon-80.png       # Small icon (80x80)
│   ├── icon-130.png      # Large icon (130x130)
│   ├── bg.png            # Background image
│   └── (all SVG icons)
└── js/                    # TV scripts
    ├── webOSTVjs-1.2.0/  # LG SDK
    ├── tv-keys.js        # Remote control
    ├── tv-audio-player.js # Audio player
    └── tv-polyfills.js   # ES2015+ polyfills
```

## 🎮 Remote Control

The app supports LG Magic Remote:
- **Arrow Keys**: Navigation
- **OK/Enter**: Select
- **Back**: Go back / Close modals
- **Play/Pause/Stop**: Media controls
- **Number Keys**: Quick navigation

## 🔧 Troubleshooting

### ares-package errors:
- Make sure you're in the `lg-app` directory
- Verify `appinfo.json` exists
- Check that all required icons exist

### App won't install:
- Confirm Developer Mode is enabled on TV
- Check TV connection: `ares-device-info --device <TV_NAME>`
- Try uninstalling first: `ares-install --device <TV_NAME> --remove com.megaradio.tv`

### Audio playback issues:
- LG webOS uses HTML5 Audio/Video (not Samsung's AVPlay)
- Some AAC+ streams may have compatibility issues
- Check TV's audio codec support

## 📝 Notes

- **Resolution**: Fixed at 1920x1080
- **Platform**: Tested on webOS 3.0+
- **Audio**: HTML5 Audio with automatic fallback
- **Keyboard**: Native TV keyboard appears for text inputs

## 🔗 Resources

- [LG webOS TV Developer Portal](https://webostv.developer.lge.com/)
- [webOS TV CLI Tools](https://webostv.developer.lge.com/sdk/tools/using-webos-tv-cli/)
- [App Testing Guide](https://webostv.developer.lge.com/develop/app-test/)
