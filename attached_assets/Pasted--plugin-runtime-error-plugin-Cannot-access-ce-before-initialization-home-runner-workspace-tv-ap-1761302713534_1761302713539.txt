[plugin:runtime-error-plugin] Cannot access 'ce' before initialization
/home/runner/workspace/tv-app/assets/index-1761302259424.js:131:34122
129|            }
130|          }
131|        `})]})};var Xm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zm=Je.createContext&&Je.createContext(Xm),_2=["attr","size","title"];function O2(e,t){if(e==null)return{};var n=M2(e,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function M2(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ll.apply(this,arguments)}function Jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Il(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jm(Object(n),!0).forEach(function(o){F2(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jm(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function F2(e,t,n){return t=D2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D2(e){var t=z2(e,"string");return typeof t=="symbol"?t:t+""}function z2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ex(e){return e&&e.map((t,n)=>Je.createElement(t.tag,Il({key:n},t.attr),ex(t.child)))}function U2(e){return t=>Je.createElement(G2,Ll({attr:Il({},e.attr)},t),ex(e.child))}function G2(e){var t=n=>{var{attr:o,size:r,title:s}=e,i=O2(e,_2),l=r||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Je.createElement("svg",Ll({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,i,{className:c,style:Il(Il({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Je.createElement("title",null,s),e.children)};return Zm!==void 0?Je.createElement(Zm.Consumer,null,n=>t(n)):t(Xm)}function $2(e){return U2({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(e)}const H2=()=>{qm();const{t:e}=ot();return x.useEffect(()=>{const t=setTimeout(()=>{if(window.TVNavigation){const n=document.querySelector('[data-testid="button-login-apple"]');n&&window.TVNavigation.focusElement&&window.TVNavigation.focusElement(n)}},100);return()=>clearTimeout(t)},[]),a.jsx("div",{className:"relative w-[1920px] h-[1080px] bg-[#0e0e0e] overflow-hidden","data-testid":"page-login",children:a.jsxs("div",{className:"absolute left-[712px] top-[235px] w-[496px] h-[609px]",children:[a.jsxs("div",{className:"absolute left-[150px] top-0 w-[195px] h-[67.601px]",children:[a.jsxs("p",{className:"absolute bottom-0 left-[18.67%] right-0 top-[46.16%] font-['Ubuntu',Helvetica] text-[32.055px] text-white leading-normal whitespace-pre-wrap",children:[a.jsx("span",{className:"font-bold",children:"mega"}),"radio"]}),a.jsx("img",{className:"absolute left-0 bottom-[2.84%] w-[34.8%] h-[97.16%]",alt:"Path",src:q("images/path-8.svg")})]}),a.jsxs("div",{className:"absolute left-0 top-[129px] w-[496px] h-[480px]",children:[a.jsx(Te,{href:"/guide-1",children:a.jsxs("div",{className:"absolute left-0 top-0 w-[496px] h-[96px] rounded-[48px] border-[3.2px] border-solid border-[#545454] overflow-clip cursor-pointer hover:bg-white/5 transition-colors","data-testid":"button-login-apple","data-tv-focusable":"true",children:[a.jsx("div",{className:"absolute left-[17.6px] top-[17.6px] w-[60.8px] h-[60.8px] rounded-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center",children:a.jsx(Xw,{className:"w-[32px] h-[32px] text-white",fill:"white"})}),a.jsx("p",{className:"absolute left-[152px] top-[33.6px] font-['Ubuntu',Helvetica] font-medium text-[24px] text-white leading-normal",children:e("auth_continue_with_apple")})]})}),a.jsx(Te,{href:"/guide-1",children:a.jsxs("div",{className:"absolute left-0 top-[128px] w-[496px] h-[96px] rounded-[48px] border-[3.2px] border-solid border-[#545454] overflow-clip cursor-pointer hover:bg-white/5 transition-colors","data-testid":"button-login-facebook","data-tv-focusable":"true",children:[a.jsx("div",{className:"absolute left-[17.6px] top-[17.6px] w-[60.8px] h-[60.8px] rounded-full bg-[#1877F2] flex items-center justify-center",children:a.jsx(Jw,{className:"w-[32px] h-[32px] text-white",fill:"white"})}),a.jsx("p",{className:"absolute left-[131.2px] top-[33.6px] font-['Ubuntu',Helvetica] font-medium text-[24px] text-white leading-normal",children:e("auth_continue_with_facebook")})]})}),a.jsx(Te,{href:"/guide-1",children:a.jsxs("div",{className:"absolute left-0 top-[256px] w-[496px] h-[96px] rounded-[48px] border-[3.2px] border-solid border-[#545454] overflow-clip cursor-pointer hover:bg-white/5 transition-colors","data-testid":"button-login-google","data-tv-focusable":"true",children:[a.jsx("div",{className:"absolute left-[17.6px] top-[17.6px] w-[60.8px] h-[60.8px] rounded-full bg-white flex items-center justify-center",children:a.jsx($2,{className:"w-[32px] h-[32px] text-[#4285f4]"})}),a.jsx("p",{className:"absolute left-[145.6px] top-[33.6px] font-['Ubuntu',Helvetica] font-medium text-[24px] text-white leading-normal",children:e("auth_continue_with_google")})]})}),a.jsx(Te,{href:"/login-with-email",children:a.jsxs("div",{className:"absolute left-0 top-[384px] w-[496px] h-[96px] rounded-[48px] border-[3.2px] border-solid border-[#545454] overflow-clip cursor-pointer hover:bg-white/5 transition-colors","data-testid":"button-login-email","data-tv-focusable":"true",children:[a.jsx("div",{className:"absolute left-[17.6px] top-[17.6px] w-[60.8px] h-[60.8px] rounded-full bg-gradient-to-br from-purple-600 to-pink-500 flex items-center justify-center",children:a.jsx(e1,{className:"w-[32px] h-[32px] text-white"})}),a.jsx("p",{className:"absolute left-[161.6px] top-[33.6px] font-['Ubuntu',Helvetica] font-medium text-[24px] text-white leading-normal",children:e("auth_continue_with_email")})]})}),a.jsx(Te,{href:"/guide-1",children:a.jsx("div",{className:"absolute left-0 top-[512px] w-[496px] h-[96px] rounded-[48px] bg-[rgba(255,255,255,0.1)] overflow-clip cursor-pointer hover:bg-[rgba(255,255,255,0.15)] transition-colors","data-testid":"button-continue-without-login","data-tv-focusable":"true",children:a.jsx("p",{className:"absolute left-1/2 top-[33.6px] -translate-x-1/2 font-['Ubuntu',Helvetica] font-medium text-[24px] text-white leading-normal",children:e("continue_without_login")})})})]})]})})},B2=()=>{const[,e]=St(),{t}=ot();x.useEffect(()=>(console.log("[Guide1] 🎬 Component mounted"),()=>{console.log("[Guide1] 👋 Component unmounting")}),[]),_t("/guide-1",i=>{const l=window.tvKey;console.log("[Guide1] ⌨️  Key pressed:",i.keyCode,n(i.keyCode,l)),(i.keyCode===13||i.keyCode===(l==null?void 0:l.ENTER))&&(console.log("[Guide1] ✅ OK/Enter - navigating to Guide 2"),i.preventDefault(),e("/guide-2"))});const n=(i,l)=>{if(!l)return String(i);for(const c in l)if(l[c]===i)return c;return String(i)},o=()=>{console.log("[Guide1] 🖱️  Clicked - navigating to Guide 2"),e("/guide-2")},r=i=>{console.log(`[Guide1] ✅ Image loaded successfully: ${i}`)},s=(i,l)=>{console.error(`[Guide1] ❌ Image failed to load: ${i}`,{src:l,fullPath:window.location.origin+l})};return a.jsxs("div",{className:"bg-black absolute inset-0 w-[1920px] h-[1080px] overflow-hidden cursor-pointer","data-testid":"page-guide-1",onClick:o,children:[a.jsx("div",{className:"absolute h-[1897px] left-0 top-0 w-[1920px]",style:{background:`linear-gradient(0deg, rgba(0, 0, 0, 0.70) 0%, rgba(0, 0, 0, 0.70) 100%), url(${q("images/discover-background.png")}) lightgray 50% / cover no-repeat`}}),a.jsx("div",{className:"absolute bg-[rgba(255,255,255,0.2)] left-[64px] overflow-clip rounded-[10px] size-[98px] top-[242px] z-20","data-testid":"button-discover-highlighted",children:a.jsxs("div",{className:"absolute h-[61px] left-[13px] top-[19px] w-[72px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[36px] not-italic text-[18px] text-center text-white top-[40px] translate-x-[-50%]",children:t("guide_discover_title")||t("nav_discover")||"Discover"}),a.jsx("div",{className:"absolute left-[20px] size-[32px] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/radio-icon.svg"),onLoad:()=>r("radio-icon.svg"),onError:()=>s("radio-icon.svg",q("images/radio-icon.svg"))})})]})}),a.jsx("div",{className:"absolute flex items-center justify-center left-[188px] top-[274px] z-20",children:a.jsx("div",{className:"rotate-[1.292deg]",children:a.jsx("div",{className:"h-[31.65px] relative w-[130.979px]",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/arrow.svg"),onLoad:()=>r("arrow.svg"),onError:()=>s("arrow.svg",q("images/arrow.svg"))})})})}),a.jsxs("div",{className:"absolute bg-black h-[115px] left-[340px] overflow-clip rounded-[10px] top-[233px] w-[720px] z-20",children:[a.jsxs("div",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[67px] not-italic text-[24px] text-white top-[29px] whitespace-nowrap",children:[a.jsx("p",{className:"mb-0",children:t("guide_discover_description")||"This is the discovery page. You can always reach here"}),a.jsx("p",{children:t("guide_discover_red_button")||"by pressing the red button on the remote."})]}),a.jsx("div",{className:"absolute bg-[#e95252] left-[24px] rounded-[40px] size-[18.667px] top-[48px]"})]})]})},W2=()=>{const[,e]=St(),{t}=ot();x.useEffect(()=>(console.log("[Guide2] 🎬 Component mounted"),()=>{console.log("[Guide2] 👋 Component unmounting")}),[]),_t("/guide-2",s=>{const i=window.tvKey;console.log("[Guide2] ⌨️  Key pressed:",s.keyCode),(s.keyCode===13||s.keyCode===(i==null?void 0:i.ENTER))&&(console.log("[Guide2] ✅ OK/Enter - navigating to Guide 3"),s.preventDefault(),e("/guide-3"))});const n=()=>{console.log("[Guide2] 🖱️  Clicked - navigating to Guide 3"),e("/guide-3")},o=s=>{console.log(`[Guide2] ✅ Image loaded successfully: ${s}`)},r=(s,i)=>{console.error(`[Guide2] ❌ Image failed to load: ${s}`,{src:i,fullPath:window.location.origin+i})};return a.jsxs("div",{className:"bg-black absolute inset-0 w-[1920px] h-[1080px] overflow-hidden cursor-pointer","data-testid":"page-guide-2",onClick:n,children:[a.jsx("div",{className:"absolute h-[1897px] left-0 top-0 w-[1920px]",style:{background:`linear-gradient(0deg, rgba(0, 0, 0, 0.70) 0%, rgba(0, 0, 0, 0.70) 100%), url(${q("images/discover-background.png")}) lightgray 50% / cover no-repeat`}}),a.jsx("div",{className:"absolute flex items-center justify-center left-[188px] top-[381px] z-20",children:a.jsx("div",{className:"rotate-[1.292deg]",children:a.jsx("div",{className:"h-[31.65px] relative w-[130.979px]",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/arrow.svg"),onLoad:()=>o("arrow.svg"),onError:()=>r("arrow.svg",q("images/arrow.svg"))})})})}),a.jsx("div",{className:"absolute bg-[rgba(255,255,255,0.2)] left-[63px] overflow-clip rounded-[10px] size-[98px] top-[346px] z-20","data-testid":"button-genres-highlighted",children:a.jsxs("div",{className:"absolute h-[61px] left-[20px] top-[19px] w-[59px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[29.5px] not-italic text-[18px] text-center text-white top-[40px] translate-x-[-50%]",children:t("guide_genres_title")||t("genres")||"Genres"}),a.jsx("div",{className:"absolute left-[13px] size-[32px] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/music-icon.svg"),onLoad:()=>o("music-icon.svg"),onError:()=>r("music-icon.svg",q("images/music-icon.svg"))})})]})}),a.jsxs("div",{className:"absolute bg-black h-[115px] left-[340px] overflow-clip rounded-[10px] top-[338px] w-[509px] z-20",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[67px] not-italic text-[24px] text-white top-[43px]",children:t("guide_genres_description")||"You can press green to access genres."}),a.jsx("div",{className:"absolute bg-[#55e952] left-[24px] rounded-[40px] size-[18.667px] top-[48px]"})]})]})},V2=()=>{const[,e]=St(),{t}=ot();x.useEffect(()=>(console.log("[Guide3] 🎬 Component mounted"),()=>{console.log("[Guide3] 👋 Component unmounting")}),[]),_t("/guide-3",s=>{const i=window.tvKey;console.log("[Guide3] ⌨️  Key pressed:",s.keyCode),(s.keyCode===13||s.keyCode===(i==null?void 0:i.ENTER))&&(console.log("[Guide3] ✅ OK/Enter - navigating to Guide 4"),s.preventDefault(),e("/guide-4"))});const n=()=>{console.log("[Guide3] 🖱️  Clicked - navigating to Guide 4"),e("/guide-4")},o=s=>{console.log(`[Guide3] ✅ Image loaded successfully: ${s}`)},r=(s,i)=>{console.error(`[Guide3] ❌ Image failed to load: ${s}`,{src:i,fullPath:window.location.origin+i})};return a.jsxs("div",{className:"bg-black absolute inset-0 w-[1920px] h-[1080px] overflow-hidden cursor-pointer","data-testid":"page-guide-3",onClick:n,children:[a.jsx("div",{className:"absolute h-[1897px] left-0 top-0 w-[1920px]",style:{background:`linear-gradient(0deg, rgba(0, 0, 0, 0.70) 0%, rgba(0, 0, 0, 0.70) 100%), url(${q("images/discover-background.png")}) lightgray 50% / cover no-repeat`}}),a.jsx("div",{className:"absolute flex items-center justify-center left-[188px] top-[490px] z-20",children:a.jsx("div",{className:"rotate-[1.292deg]",children:a.jsx("div",{className:"h-[31.65px] relative w-[130.979px]",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/arrow.svg"),onLoad:()=>o("arrow.svg"),onError:()=>r("arrow.svg",q("images/arrow.svg"))})})})}),a.jsxs("div",{className:"absolute bg-black h-[115px] left-[340px] overflow-clip rounded-[10px] top-[449px] w-[597px] z-20",children:[a.jsxs("div",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[67px] not-italic text-[24px] text-white top-[29px] whitespace-nowrap",children:[a.jsx("p",{className:"mb-0",children:t("guide_search_description")||"You can find any radio station you want here."}),a.jsx("p",{children:t("guide_search_blue_button")||"Press the blue on the remote!"})]}),a.jsx("div",{className:"absolute bg-[#2d41f4] left-[24px] rounded-[40px] size-[18.667px] top-[48px]"})]}),a.jsx("div",{className:"absolute bg-[rgba(255,255,255,0.2)] left-[63px] overflow-clip rounded-[10px] size-[98px] top-[457px] z-20","data-testid":"button-search-highlighted",children:a.jsxs("div",{className:"absolute h-[61px] left-[21px] top-[19px] w-[56px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[28px] not-italic text-[18px] text-center text-white top-[40px] translate-x-[-50%]",children:t("guide_search_title")||t("search")||"Search"}),a.jsx("div",{className:"absolute left-[12px] size-[32px] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/search-icon.svg"),onLoad:()=>o("search-icon.svg"),onError:()=>r("search-icon.svg",q("images/search-icon.svg"))})})]})})]})},K2=()=>{const[,e]=St(),{t}=ot();x.useEffect(()=>(console.log("[Guide4] 🎬 Component mounted"),()=>{console.log("[Guide4] 👋 Component unmounting")}),[]),_t("/guide-4",s=>{const i=window.tvKey;if(console.log("[Guide4] ⌨️  Key pressed:",s.keyCode),s.keyCode===13||s.keyCode===(i==null?void 0:i.ENTER)){console.log("[Guide4] ✅ OK/Enter - completing onboarding and navigating to Discover"),s.preventDefault();try{localStorage.setItem("onboardingCompleted","true"),console.log("[Guide4] 💾 Onboarding completion saved to localStorage")}catch(l){console.warn("[Guide4] ⚠️  Could not save to localStorage:",l)}e("/discover-no-user")}});const n=()=>{console.log("[Guide4] 🖱️  Clicked - completing onboarding and navigating to Discover");try{localStorage.setItem("onboardingCompleted","true"),console.log("[Guide4] 💾 Onboarding completion saved to localStorage")}catch(s){console.warn("[Guide4] ⚠️  Could not save to localStorage:",s)}e("/discover-no-user")},o=s=>{console.log(`[Guide4] ✅ Image loaded successfully: ${s}`)},r=(s,i)=>{console.error(`[Guide4] ❌ Image failed to load: ${s}`,{src:i,fullPath:window.location.origin+i})};return a.jsxs("div",{className:"bg-black absolute inset-0 w-[1920px] h-[1080px] overflow-hidden cursor-pointer","data-testid":"page-guide-4",onClick:n,children:[a.jsx("div",{className:"absolute h-[1897px] left-0 top-0 w-[1920px]",style:{background:`linear-gradient(0deg, rgba(0, 0, 0, 0.70) 0%, rgba(0, 0, 0, 0.70) 100%), url(${q("images/discover-background.png")}) lightgray 50% / cover no-repeat`}}),a.jsx("div",{className:"absolute flex items-center justify-center left-[188px] top-[596px] z-20",children:a.jsx("div",{className:"rotate-[1.292deg]",children:a.jsx("div",{className:"h-[31.65px] relative w-[130.979px]",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/arrow.svg"),onLoad:()=>o("arrow.svg"),onError:()=>r("arrow.svg",q("images/arrow.svg"))})})})}),a.jsxs("div",{className:"absolute bg-black h-[115px] left-[340px] overflow-clip rounded-[10px] top-[555px] w-[597px] z-20",children:[a.jsxs("div",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[67px] not-italic text-[24px] text-white top-[29px] whitespace-nowrap",children:[a.jsx("p",{className:"mb-0",children:t("guide_favorites_description")||"Your favorite radios will be here."}),a.jsx("p",{children:t("guide_favorites_yellow_button")||"Press yellow on the remote."})]}),a.jsx("div",{className:"absolute bg-[#f4ec2d] left-[24px] rounded-[40px] size-[18.667px] top-[48px]"})]}),a.jsx("div",{className:"absolute bg-[rgba(255,255,255,0.2)] left-[62px] overflow-clip rounded-[10px] size-[98px] top-[565px] z-20","data-testid":"button-favorites-highlighted",children:a.jsxs("div",{className:"absolute h-[61px] left-[11px] top-[19px] w-[77px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[38.5px] not-italic text-[18px] text-center text-white top-[40px] translate-x-[-50%]",children:t("guide_favorites_title")||t("nav_your_favorites")||"Favorites"}),a.jsx("div",{className:"absolute left-[23px] size-[32px] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/heart-icon.svg"),onLoad:()=>o("heart-icon.svg"),onError:()=>r("heart-icon.svg",q("images/heart-icon.svg"))})})]})})]})},Hs=({isOpen:e,onClose:t,selectedCountry:n,onSelectCountry:o})=>{const[r,s]=x.useState(""),[i,l]=x.useState(0),[c,u]=x.useState(!1),f=x.useRef(null),d=x.useRef(null),{t:m}=ot(),{data:w,isLoading:b}=Vt({queryKey:["/api/countries"],queryFn:()=>te(this,null,function*(){var g;console.log("[CountrySelector] Fetching countries...");const p=yield Ve.getAllCountries();return console.log("[CountrySelector] Countries received:",((g=p.countries)==null?void 0:g.length)||0),p}),staleTime:3e5}),y=x.useMemo(()=>{const p=(w==null?void 0:w.countries)||[];console.log("[CountrySelector] Mapping countries, API returned:",p.length);const g=p.filter(h=>h.name&&h.iso_3166_1).map(h=>{const v=h.iso_3166_1==="XX"||h.iso_3166_1.length!==2?'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="40" height="40"%3E%3Crect width="40" height="40" fill="%23979797"/%3E%3C/svg%3E':`https://flagcdn.com/w40/${h.iso_3166_1.toLowerCase()}.png`;return{name:h.name,code:h.iso_3166_1,flag:v,stationcount:h.stationcount}}).sort((h,v)=>(v.stationcount||0)-(h.stationcount||0));return console.log("[CountrySelector] Mapped countries:",g.length),g},[w]),S=x.useMemo(()=>{console.log("[CountrySelector] Filtering countries - searchQuery:",r);const p=y.filter(g=>g.name.toLowerCase().includes(r.toLowerCase())).sort((g,h)=>{if(!r)return(h.stationcount||0)-(g.stationcount||0);const v=r.toLowerCase(),E=g.name.toLowerCase(),I=h.name.toLowerCase(),C=E===v,N=I===v;if(C&&!N)return-1;if(!C&&N)return 1;const j=E.startsWith(v),F=I.startsWith(v);return j&&!F?-1:!j&&F?1:g.name.localeCompare(h.name)});return console.log("[CountrySelector] Filtered count:",p.length),p},[y,r]);return x.useEffect(()=>{S.length>0&&i>=S.length&&l(0)},[S.length,i]),x.useEffect(()=>{f.current&&(f.current.scrollTop=0,console.log("[CountrySelector] Scrolled to top - filtered count:",S.length))},[r,S.length]),x.useEffect(()=>{if(f.current&&S.length>0){const p=f.current.children[i];p&&p.scrollIntoView({behavior:"smooth",block:"nearest"})}},[i,S.length]),x.useEffect(()=>{if(!e)return;const p=g=>{const h=window.tvKey;if(g.stopPropagation(),c)switch(g.keyCode){case(h==null?void 0:h.DOWN):case 40:g.preventDefault(),console.log("[CountrySelector] DOWN key pressed - moving to country list"),d.current&&d.current.blur(),u(!1),l(0);break;case(h==null?void 0:h.RETURN):case 461:case 10009:g.preventDefault(),console.log("[CountrySelector] RETURN key - closing keyboard (first press)"),d.current&&d.current.blur(),u(!1);break}else switch(g.keyCode){case(h==null?void 0:h.UP):case 38:g.preventDefault(),i===0?(u(!0),console.log("[CountrySelector] Search mode activated - type to search")):l(v=>Math.max(0,v-1));break;case(h==null?void 0:h.DOWN):case 40:g.preventDefault(),l(v=>Math.min(S.length-1,v+1));break;case(h==null?void 0:h.ENTER):case 13:g.preventDefault(),S[i]&&(console.log("[CountrySelector] Selecting country:",S[i].name),o(S[i]),t());break;case(h==null?void 0:h.RETURN):case 461:case 10009:g.preventDefault(),console.log("[CountrySelector] RETURN key - closing modal"),t();break}};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e,S,i,o,t,c]),x.useEffect(()=>{if(e){s(""),u(!0);const p=y.findIndex(h=>h.name===n),g=p>=0?p:0;l(g),console.log("[CountrySelector] Modal opened - search input focused"),console.log("[CountrySelector] Current country:",n,"at index:",g)}else u(!1)},[e,n,y]),x.useEffect(()=>{c&&d.current?(console.log("[CountrySelector] Activating search mode - focusing input"),d.current.focus()):!c&&d.current&&document.activeElement===d.current&&(console.log("[CountrySelector] Deactivating search mode - blurring input"),d.current.blur())},[c]),e?a.jsxs("div",{className:"absolute top-0 left-0 w-[1920px] h-[1080px] z-50",onKeyDown:p=>{p.stopPropagation()},children:[a.jsx("div",{className:"absolute top-0 left-0 w-[1920px] h-[1080px] backdrop-blur-[7px] backdrop-filter",onClick:t,"data-testid":"country-selector-backdrop"}),a.jsxs("div",{className:"absolute bg-[#1a1a1a] rounded-[20px] border-2 border-[rgba(255,255,255,0.1)]",style:{left:"457px",top:"251px",width:"1006px",height:"534px"},children:[a.jsx("div",{className:"absolute top-[30px] left-[40px] right-[40px]",children:a.jsx("h2",{className:"font-['Ubuntu',Helvetica] font-bold text-[32px] text-white",children:m("select_country")||"Select Country"})}),a.jsx("div",{className:"absolute top-[90px] left-[40px] right-[40px]",children:a.jsx("input",{ref:d,type:"text",placeholder:m("search_countries")||"Search countries...",value:r,onChange:p=>{const g=p.target.value;console.log("[CountrySelector] Search changed:",g),s(g),l(0),f.current&&(f.current.scrollTop=0)},onKeyDown:p=>{const g=window.tvKey;(p.keyCode===40||p.keyCode===(g==null?void 0:g.DOWN))&&(p.preventDefault(),console.log("[CountrySelector] DOWN from input - moving to list"),u(!1),l(0),d.current&&d.current.blur())},onFocus:()=>{console.log("[CountrySelector] Input focused - TV keyboard should appear"),u(!0)},onBlur:()=>{console.log("[CountrySelector] Input blurred")},className:`w-full px-6 py-4 rounded-[15px] bg-[rgba(255,255,255,0.1)] border-2 text-white text-[20px] font-['Ubuntu',Helvetica] placeholder-white/50 focus:outline-none transition-colors ${c?"border-[#ff4199]":"border-[rgba(255,255,255,0.2)]"}`,"data-testid":"input-country-search"})}),a.jsx("div",{ref:f,className:"absolute top-[160px] left-[40px] right-[40px] bottom-[30px] overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"#ff4199 rgba(255,255,255,0.1)"},children:b?a.jsx("div",{className:"text-center text-white font-['Ubuntu',Helvetica] text-[24px] mt-20",children:m("loading_countries")||m("loading")||"Loading countries..."}):S.length===0?a.jsx("div",{className:"text-center text-white/50 font-['Ubuntu',Helvetica] text-[20px] mt-10",children:r?m("no_countries_found")||"No countries found":m("loading")||"Loading..."}):a.jsx(a.Fragment,{children:S.map((p,g)=>a.jsxs("div",{className:`flex items-center gap-4 px-6 py-4 rounded-[10px] cursor-pointer transition-all mb-2 ${i===g?"bg-[#ff4199] border-2 border-[#ff4199]":"bg-[rgba(255,255,255,0.05)] border-2 border-transparent hover:bg-[rgba(255,255,255,0.1)]"}`,onClick:()=>{o(p),t()},"data-testid":`country-option-${p.code}`,children:[a.jsx("img",{src:p.flag,alt:p.name,className:"w-[40px] h-[30px] object-cover rounded-[4px]",onError:h=>{h.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="40" height="30"%3E%3Crect width="40" height="30" fill="%23979797"/%3E%3C/svg%3E'}}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[20px] text-white",children:p.name})}),p.stationcount&&p.stationcount>0&&a.jsxs("div",{className:"text-white/70 font-['Ubuntu',Helvetica] text-[16px]",children:[p.stationcount," ",m("stations")||"stations"]})]},`${p.code}-${r}-${g}`))})}),a.jsxs("div",{className:"absolute bottom-[10px] left-[40px] right-[40px] flex justify-between text-white/50 font-['Ubuntu',Helvetica] text-[14px]",children:[a.jsx("div",{children:c?m("type_to_search_hint")||m("type_to_search")||"Type to search • Press ↓ for list":m("press_up_to_search_hint")||m("press_up_to_search")||"Press ↑ to search • Type to filter"}),a.jsx("div",{children:m("press_back_to_close")||"Press BACK to close"})]})]})]}):null},$u=({selectedCountry:e,selectedCountryCode:t,onClick:n,focusClasses:o="",className:r=""})=>a.jsx("div",{className:`flex w-[223px] h-[51px] rounded-[30px] bg-[#6b4f8a] pointer-events-auto cursor-pointer hover:bg-[#7d5fa0] transition-colors flex-shrink-0 ${o} ${r}`,style:{padding:"11px 14.316px 11px 15px",justifyContent:"center",alignItems:"center"},onClick:n,"data-testid":"button-country-selector",children:a.jsxs("div",{className:"flex items-center gap-[10.66px]",children:[a.jsx("div",{className:"size-[28.421px] rounded-full overflow-hidden flex-shrink-0",children:a.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:e,className:"w-full h-full object-cover"})}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-bold leading-normal text-[24px] text-white whitespace-nowrap",children:e}),a.jsx("div",{className:"flex items-center justify-center ml-auto",children:a.jsx("div",{className:"rotate-[270deg]",children:a.jsx("div",{className:"relative size-[23.684px]",children:a.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:a.jsx("path",{d:"M15 18L9 12L15 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})})]})}),Hu={getPlayAtStartMode(){const e=localStorage.getItem("playAtStart");return e&&["last-played","random","favorite","none"].includes(e)?e:"last-played"},getLastPlayedStation(){try{const e=localStorage.getItem("lastPlayedStation");if(e)return JSON.parse(e)}catch(e){console.warn("[AutoPlay] Failed to parse last played station:",e)}return null},getFavoriteStations(){try{const e=localStorage.getItem("favorites");if(e)return JSON.parse(e)}catch(e){console.warn("[AutoPlay] Failed to parse favorites:",e)}return[]},getRandomStation(e="US"){return te(this,null,function*(){try{const n=(yield Ve.getAllStations({country:e,limit:50})).stations;if(n&&n.length>0){const o=Math.floor(Math.random()*n.length);return n[o]}}catch(t){console.warn("[AutoPlay] Failed to fetch random station:",t)}return null})},getStationToPlay(e,t="US"){return te(this,null,function*(){switch(console.log(`[AutoPlay] Getting station for mode: ${e}`),e){case"last-played":return this.getLastPlayedStation();case"random":return yield this.getRandomStation(t);case"favorite":const n=this.getFavoriteStations();if(n.length>0){const o=Math.floor(Math.random()*n.length);return n[o]}return console.warn("[AutoPlay] No favorite stations found"),null;case"none":return null;default:return null}})},shouldAutoPlay(){return sessionStorage.getItem("hasAutoPlayed")==="true"?!1:(sessionStorage.setItem("hasAutoPlayed","true"),!0)}},To=({activePage:e,isFocused:t,getFocusClasses:n})=>{const{t:o}=ot();return a.jsxs("div",{className:"fixed h-[638px] left-[64px] top-[242px] w-[98px] z-50 pointer-events-auto",children:[a.jsx(Te,{href:"/discover-no-user",children:a.jsx("div",{className:`absolute left-0 overflow-hidden rounded-[10px] size-[98px] top-0 ${n(t(0))}`,"data-testid":"button-discover",children:a.jsxs("div",{className:"absolute h-[61px] left-[13px] top-[19px] w-[72px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[36px] not-italic text-[18px] text-center text-white top-[40px] translate-x-[-50%]",children:o("nav_discover")||o("discover")||"Discover"}),a.jsx("div",{className:"absolute left-[20px] size-[32px] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/radio-icon.svg")})})]})})}),a.jsx(Te,{href:"/genres",children:a.jsx("div",{className:`absolute left-0 overflow-hidden rounded-[10px] size-[98px] top-[108px] ${n(t(1))}`,"data-testid":"button-genres",children:a.jsxs("div",{className:"absolute h-[61px] left-[19px] top-[19px] w-[59px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[29.5px] not-italic text-[18px] text-center text-white top-[40px] translate-x-[-50%]",children:o("nav_genres")||o("genres")||"Genres"}),a.jsx("div",{className:"absolute left-[13px] size-[32px] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/music-icon.svg")})})]})})}),a.jsx(Te,{href:"/search",children:a.jsx("div",{className:`absolute left-0 overflow-hidden rounded-[10px] size-[98px] top-[216px] ${n(t(2))}`,"data-testid":"button-search",children:a.jsxs("div",{className:"absolute h-[61px] left-[21px] top-[19px] w-[56px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[28px] not-italic text-[18px] text-center text-white top-[40px] translate-x-[-50%]",children:o("nav_search")||o("search")||"Search"}),a.jsx("div",{className:"absolute left-[12px] size-[32px] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/search-icon.svg")})})]})})}),a.jsx(Te,{href:"/favorites",children:a.jsx("div",{className:`absolute left-0 overflow-hidden rounded-[10px] size-[98px] top-[324px] ${n(t(3))}`,"data-testid":"button-favorites",children:a.jsxs("div",{className:"absolute h-[61px] left-[10px] top-[19px] w-[77px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[38.5px] not-italic text-[18px] text-center text-white top-[40px] translate-x-[-50%]",children:o("nav_favorites")||o("favorites")||"Favorites"}),a.jsx("div",{className:"absolute left-[22px] size-[32px] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/heart-icon.svg")})})]})})}),a.jsx(Te,{href:"/settings",children:a.jsx("div",{className:`absolute left-0 overflow-hidden rounded-[10px] size-[98px] top-[432px] ${n(t(4))}`,"data-testid":"button-settings",children:a.jsxs("div",{className:"absolute h-[61px] left-[15px] top-[19px] w-[68px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[34px] not-italic text-[18px] text-center text-white top-[40px] translate-x-[-50%]",children:o("nav_settings")||o("settings")||"Settings"}),a.jsx("div",{className:"absolute left-[18px] size-[32px] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/settings-icon.svg")})})]})})})]})},Q2=()=>{var Al;const{t:e}=ot(),{selectedCountry:t,selectedCountryCode:n,selectedCountryFlag:o,setCountry:r}=Er(),{playStation:s,isPlaying:i,focusGlobalPlayer:l,currentStation:c}=Pn(),[,u]=St(),[f,d]=x.useState(!1),[m,w]=x.useState(!1),[b,y]=x.useState(0),[S,p]=x.useState(!0),g=x.useRef(null),h=x.useRef(0),v=x.useRef(null),[E,I]=x.useState([]),[C,N]=x.useState(0),[j,F]=x.useState(!1),[_,$]=x.useState(!0),{data:Y}=Vt({queryKey:["/api/genres/all",n],queryFn:()=>(console.log("[DiscoverNoUser] Fetching genres for country code:",n),Ve.getAllGenres(n))}),{data:J}=Vt({queryKey:["/api/stations/popular",{limit:24,country:n}],queryFn:()=>(console.log("[DiscoverNoUser] Fetching popular stations for country:",n),Ve.getPopularStations({limit:24,country:n}))}),{data:H,isLoading:X}=Vt({queryKey:["/api/stations/country/initial",n],queryFn:()=>(console.log("[DiscoverNoUser] Fetching INITIAL 100 stations for country code:",n,"offset=0"),Ve.getWorkingStations({limit:100,country:n,offset:0}))}),re=(Y==null?void 0:Y.genres)||[],M=((Al=J==null?void 0:J.stations)==null?void 0:Al.slice(0,14))||[],L=6,k=L+M.length-1,R=k+1,A=R+re.length-1,W=A+1,oe=6+M.length+re.length+E.length,ye=["/discover-no-user","/genres","/search","/favorites","/settings"];x.useEffect(()=>{if(ce>=R&&ce<=A&&v.current){const O=ce-R,ge=O*(250+20);console.log("[DiscoverNoUser] 🎯 Scrolling genre container to position:",ge,"for genre index:",O),v.current.scrollTo({left:ge,behavior:"smooth"})}},[ce,R,A]);const Ce=O=>{const D=ce;let B=D;if(D>=0&&D<=4)O==="DOWN"?B=D<4?D+1:D:O==="UP"?B=D>0?D-1:D:O==="RIGHT"&&(D===0||D===1?B=R:B=L);else if(D===5)O==="DOWN"?B=R:O==="LEFT"&&(B=0);else if(D>=L&&D<=k){const ge=D-L,Do=Math.floor(ge/7),Ft=ge%7;if(O==="LEFT")Ft>0?B=D-1:B=2;else if(O==="RIGHT")Ft<6&&D<k&&(B=D+1);else if(O==="UP")Do>0?B=D-7:B=R+Math.min(Ft,re.length-1);else if(O==="DOWN"){const Rn=D+7;Rn<=k?B=Rn:(B=W+Ft,B>=oe&&(B=oe-1))}}else if(D>=R&&D<=A){const ge=D-R;O==="LEFT"?ge>0?B=D-1:B=0:O==="RIGHT"?ge<re.length-1&&(B=D+1):O==="UP"?B=5:O==="DOWN"&&(B=L+Math.min(ge,Math.min(6,M.length-1)))}else if(D>=W){const ge=D-W,Do=Math.floor(ge/7),Ft=ge%7;if(O==="LEFT")Ft>0?B=D-1:B=0;else if(O==="RIGHT")Ft<6&&D<oe-1&&(B=D+1);else if(O==="UP")if(Do>0)B=D-7;else{const Rn=Math.min(Ft,6);B=k-(M.length%7===0?6:M.length%7-1)+Rn,B>k&&(B=k)}else if(O==="DOWN"){const Rn=D+7;Rn<oe&&(B=Rn)}}B=Math.max(0,Math.min(oe-1,B)),it(B)},{focusIndex:ce,setFocusIndex:it,handleSelect:lo,handleBack:dn,isFocused:lt}=ko({totalItems:oe,cols:1,initialIndex:0,onSelect:O=>{if(O>=0&&O<=4){const D=ye[O];u(D)}else if(O===5)d(!0);else if(O>=L&&O<=k){const D=O-L,B=M[D];B&&(s(B),u(`/radio-playing?station=${B._id}`))}else if(O>=R&&O<=A){const D=O-R,B=re[D];B&&u(`/genre-list/${B.slug}`)}else if(O>=W){const D=O-W,B=E[D];B&&(s(B),u(`/radio-playing?station=${B._id}`))}},onBack:()=>{w(!0),y(0)}});x.useEffect(()=>{const O=D=>{const{index:B}=D.detail;console.log("[DiscoverNoUser] focusSidebar event received, jumping to index:",B),it(B)};return window.addEventListener("focusSidebar",O),()=>{window.removeEventListener("focusSidebar",O)}},[it]),_t("/discover-no-user",O=>{if(m){const B=window.tvKey;switch(O.keyCode){case(B==null?void 0:B.LEFT):case 37:O.preventDefault(),y(0);break;case(B==null?void 0:B.RIGHT):case 39:O.preventDefault(),y(1);break;case(B==null?void 0:B.ENTER):case 13:if(O.preventDefault(),b===0)w(!1);else if(console.log("[DiscoverNoUser] Exit app via keyboard - calling tizen.application.getCurrentApplication().exit()"),typeof window!="undefined"&&window.tizen)try{window.tizen.application.getCurrentApplication().exit()}catch(ge){console.error("[DiscoverNoUser] Failed to exit via Tizen API:",ge),window.close()}else window.close();break;case(B==null?void 0:B.RETURN):case 461:case 10009:O.preventDefault(),w(!1);break}return}if(f){console.log("[DiscoverNoUser] Key event ignored - country selector modal is open");return}const D=window.tvKey;switch(O.keyCode){case(D==null?void 0:D.UP):case 38:return O.preventDefault(),Ce("UP"),!0;case(D==null?void 0:D.DOWN):case 40:return O.preventDefault(),Ce("DOWN"),!0;case(D==null?void 0:D.LEFT):case 37:return O.preventDefault(),Ce("LEFT"),!0;case(D==null?void 0:D.RIGHT):case 39:return O.preventDefault(),Ce("RIGHT"),!0;case(D==null?void 0:D.PAGE_UP):case 33:case(D==null?void 0:D.PAGE_DOWN):case 34:c&&(console.log("[DiscoverNoUser] PAGE_UP/PAGE_DOWN pressed - focusing GlobalPlayer"),O.preventDefault(),l());break;case(D==null?void 0:D.ENTER):case 13:console.log("[DiscoverNoUser] ENTER key pressed - calling handleSelect()"),lo();break;case(D==null?void 0:D.RETURN):case 461:case 10009:console.log("[DiscoverNoUser] 🔙 BACK/RETURN key pressed - should show exit modal"),console.log("[DiscoverNoUser] Current modal state - isExitModalOpen:",m),O.preventDefault(),dn(),console.log("[DiscoverNoUser] ✅ handleBack() called to trigger exit modal");break}}),x.useEffect(()=>{if(H!=null&&H.stations){const O=H.stations;console.log(`[DiscoverNoUser] Country changed: ${t}, initial fetch: ${O.length} stations`),I(O),N(100);const D=O.length>=100;$(D),console.log(`[DiscoverNoUser] Initial load: ${O.length} stations, hasMore=${D}, nextOffset=100`)}},[H,n]),x.useEffect(()=>{const O=()=>te(this,null,function*(){if(!Hu.shouldAutoPlay()){console.log("[AutoPlay] Skipping auto-play (already played this session)");return}const B=Hu.getPlayAtStartMode();if(console.log(`[AutoPlay] Play at start mode: ${B}`),B==="none"){console.log("[AutoPlay] Play at start is disabled");return}const ge=yield Hu.getStationToPlay(B,n);ge?(console.log("[AutoPlay] Auto-playing station:",ge.name),s(ge),u(`/radio-playing?station=${ge._id}`)):console.log("[AutoPlay] No station found to auto-play")}),D=setTimeout(()=>{O()},1e3);return()=>clearTimeout(D)},[]);const z=()=>te(this,null,function*(){if(j||!_){console.log(`[DiscoverNoUser] Skipping load - isLoadingMore=${j}, hasMore=${_}`);return}F(!0),console.log(`[DiscoverNoUser] 🚀 Fetching next batch - offset=${C}, limit=100, country=${n}`);try{const D=(yield Ve.getWorkingStations({limit:100,country:n,offset:C})).stations||[];if(console.log(`[DiscoverNoUser] ✅ Fetched ${D.length} stations from API`),D.length>0){I(ge=>[...ge,...D]),N(ge=>ge+100);const B=D.length>=100;$(B),console.log(`[DiscoverNoUser] After load: total=${E.length+D.length}, hasMore=${B}, nextOffset=${C+100}`)}else $(!1),console.log("[DiscoverNoUser] No more stations available")}catch(O){console.error("[DiscoverNoUser] Failed to fetch more stations:",O),$(!1)}finally{F(!1)}});x.useEffect(()=>{const O=g.current;if(!O)return;const D=()=>{const B=O.scrollTop;B>h.current&&B>50?p(!1):B<h.current&&p(!0),h.current=B;const ge=O.scrollHeight,Do=O.scrollTop,Ft=O.clientHeight;ge-Do-Ft<1e3&&_&&!j&&(console.log("[DiscoverNoUser] 📜 Scroll trigger - loading more stations"),z())};return O.addEventListener("scroll",D),()=>O.removeEventListener("scroll",D)},[j,_,C]),x.useEffect(()=>{if(ce>=W){const O=ce-W;E.length-O<=14&&_&&!j&&(console.log(`[DiscoverNoUser] 🎯 Focus trigger - user at station ${O}/${E.length}, loading more`),z())}},[ce,W,E.length,_,j]),x.useEffect(()=>{if(!g.current)return;const O=g.current;let D=0;ce>=R&&ce<=A?D=0:ce>=L&&ce<=k?D=180+Math.floor((ce-L)/7)*294:ce>=W&&(D=600+Math.floor((ce-W)/7)*294),O.scrollTo({top:D,behavior:"smooth"})},[ce,R,A,L,k,W]);const V=q("images/fallback-station.png"),ee=O=>O.favicon&&O.favicon!=="null"&&O.favicon.trim()!==""?O.favicon.startsWith("http")?O.favicon:`https://themegaradio.com/api/image/${encodeURIComponent(O.favicon)}`:V,Ne=O=>O.tags?Array.isArray(O.tags)?O.tags:O.tags.split(",").map(D=>D.trim()):[],De=O=>{const D=Ne(O);return D.length>0?D[0]:O.country||"Radio"},Mt=[236,466,696,926,1156,1386,1616],Fr=[236,466,696,926,1156,1386,1616];return a.jsxs("div",{className:"absolute inset-0 w-[1920px] h-[1080px] bg-[#0e0e0e] overflow-hidden","data-testid":"page-discover-no-user",children:[a.jsx("div",{className:"absolute h-[1292px] left-[-10px] top-[-523px] w-[1939px] z-0",children:a.jsx("img",{alt:"",className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",src:q("images/hand-crowd-disco-1.png")})}),a.jsx("div",{className:"absolute bg-gradient-to-b from-[0.88%] from-[rgba(14,14,14,0)] h-[1080px] left-0 to-[#0e0e0e] to-[48.611%] top-0 w-[1920px] z-0"}),a.jsxs("div",{className:"absolute h-[57px] left-[30px] top-[64px] w-[164.421px] z-50 pointer-events-auto",children:[a.jsxs("p",{className:"absolute bottom-0 font-['Ubuntu',Helvetica] leading-normal left-[18.67%] not-italic right-0 text-[27.029px] text-white top-[46.16%] whitespace-pre-wrap",children:[a.jsx("span",{className:"font-bold",children:"mega"}),"radio"]}),a.jsx("div",{className:"absolute bottom-[2.84%] left-0 right-[65.2%] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/path-8.svg")})})]}),a.jsxs("div",{className:"absolute top-0 left-0 w-[1920px] h-[242px] z-50 pointer-events-none transition-transform duration-300 ease-in-out",style:{transform:S?"translateY(0)":"translateY(-100%)"},children:[a.jsx("div",{className:`absolute left-[1383px] overflow-clip rounded-[30px] size-[51px] top-[67px] pointer-events-auto transition-colors ${i?"bg-[#ff4199]":"bg-[rgba(255,255,255,0.1)]"}`,children:a.jsxs("div",{className:"absolute h-[25px] left-[13.75px] overflow-clip top-[13px] w-[23.75px]",children:[a.jsx("div",{className:`absolute bg-white left-0 rounded-[10px] top-0 w-[6.25px] ${i?"animate-equalizer-1":"h-[25px]"}`,style:{height:i?void 0:"25px"}}),a.jsx("div",{className:`absolute bg-white left-[8.75px] rounded-[10px] top-[7.5px] w-[6.25px] ${i?"animate-equalizer-2":"h-[17.5px]"}`,style:{height:i?void 0:"17.5px"}}),a.jsx("div",{className:`absolute bg-white left-[17.5px] rounded-[10px] top-[3.75px] w-[6.25px] ${i?"animate-equalizer-3":"h-[21.25px]"}`,style:{height:i?void 0:"21.25px"}})]})}),a.jsx($u,{selectedCountry:t,selectedCountryCode:n,onClick:()=>d(!0),focusClasses:de(lt(5)),className:"absolute left-[1453px] top-[67px] pointer-events-auto"})]}),a.jsx(To,{activePage:"discover",isFocused:lt,getFocusClasses:de}),a.jsx("div",{ref:g,className:"absolute left-[162px] w-[1758px] overflow-y-auto overflow-x-hidden z-1 scrollbar-hide transition-all duration-300 ease-in-out",style:{top:S?"242px":"64px",height:S?"838px":"1016px"},children:a.jsxs("div",{className:"relative pb-[100px]",style:{minHeight:`${1013+Math.ceil(E.length/7)*294+364}px`},children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[74px] not-italic text-[32px] text-white top-0",children:e("popular_genres")}),a.jsx("div",{ref:v,className:"absolute left-[64px] top-[59px] w-[1620px] overflow-x-auto overflow-y-visible scrollbar-hide scroll-smooth",children:a.jsx("div",{className:"flex py-[15px] px-[10px]",style:{gap:"20px"},children:re.map((O,D)=>{const B=R+D;return a.jsx(Te,{href:`/genre-list/${O.slug}`,style:{marginRight:"20px",display:"inline-block",flexShrink:0},children:a.jsxs("div",{className:`relative bg-[rgba(255,255,255,0.14)] flex gap-[10px] items-center px-[72px] py-[28px] rounded-[20px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(lt(B))}`,"data-testid":O.slug,"data-genre-pill":!0,style:{display:"inline-flex",whiteSpace:"nowrap"},children:[a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic text-[22px] text-center text-white whitespace-nowrap",children:O.name}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)] rounded-[20px]"})]})},O.slug||D)})})}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[74px] not-italic text-[32px] text-white top-[223px]",children:e("homepage_popular_stations")}),M.slice(0,7).map((O,D)=>{const B=L+D;return a.jsx(Te,{href:`/radio-playing?station=${O._id}`,children:a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] h-[264px] overflow-clip rounded-[11px] top-[297px] w-[200px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(lt(B))}`,style:{left:`${Mt[D]-162}px`},"data-testid":`card-station-${O._id}`,children:[a.jsx("div",{className:"absolute bg-white left-[34px] overflow-clip rounded-[6.6px] size-[132px] top-[34px]",children:a.jsx("img",{alt:O.name,className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",src:ee(O),onError:ge=>{ge.target.src=V}})}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[100px] not-italic text-[22px] text-center text-white top-[187px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:O.name}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-light leading-normal left-[100px] not-italic text-[18px] text-center text-white top-[218.2px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:De(O)}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)]"})]})},O._id||D)}),M.slice(7,14).map((O,D)=>{const B=L+7+D;return a.jsx(Te,{href:`/radio-playing?station=${O._id}`,children:a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] h-[264px] overflow-clip rounded-[11px] top-[591px] w-[200px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(lt(B))}`,style:{left:`${Fr[D]-162}px`},"data-testid":`card-station-${O._id}`,children:[a.jsx("div",{className:"absolute bg-white left-[34px] overflow-clip rounded-[6.6px] size-[132px] top-[34px]",children:a.jsx("img",{alt:O.name,className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",src:ee(O),onError:ge=>{ge.target.src=V}})}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[100px] not-italic text-[22px] text-center text-white top-[187px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:O.name}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-light leading-normal left-[100px] not-italic text-[18px] text-center text-white top-[218.2px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:De(O)}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)]"})]})},O._id||D)}),a.jsxs("div",{className:"absolute bg-[rgba(255,255,255,0.14)] h-[264px] left-[1454px] overflow-clip rounded-[11px] top-[591px] w-[200px]",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[100.5px] not-italic text-[22px] text-center text-white top-[120px] translate-x-[-50%]",children:"See More"}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)]"})]}),a.jsxs("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[74px] not-italic text-[32px] text-white top-[939px]",children:[e("more_from")," ",t]}),E.map((O,D)=>{const B=Math.floor(D/7),ge=D%7,Do=[236,466,696,926,1156,1386,1616],Ft=1013+B*294,Rn=W+D;return a.jsx(Te,{href:`/radio-playing?station=${O._id}`,children:a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] h-[264px] overflow-clip rounded-[11px] w-[200px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(lt(Rn))}`,style:{left:`${Do[ge]-162}px`,top:`${Ft}px`},"data-testid":`card-station-${O._id}`,children:[a.jsx("div",{className:"absolute bg-white left-[34px] overflow-clip rounded-[6.6px] size-[132px] top-[34px]",children:a.jsx("img",{alt:O.name,className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",src:ee(O),onError:ux=>{ux.target.src=V}})}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[100px] not-italic text-[22px] text-center text-white top-[187px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:O.name}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-light leading-normal left-[100px] not-italic text-[18px] text-center text-white top-[218.2px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:De(O)}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)]"})]})},O._id||D)}),j&&a.jsx("div",{className:"absolute left-[860px] text-white font-['Ubuntu',Helvetica] text-[20px]",style:{top:`${1013+Math.ceil(E.length/7)*294+20}px`},children:"Loading more stations..."}),!_&&E.length>0&&a.jsxs("div",{className:"absolute left-[780px] text-white/50 font-['Ubuntu',Helvetica] text-[18px]",style:{top:`${1013+Math.ceil(E.length/7)*294+20}px`},children:["✓ All ",E.length," stations from ",t," loaded"]})]})}),a.jsx(Hs,{isOpen:f,onClose:()=>d(!1),selectedCountry:t,onSelectCountry:O=>{console.log("[DiscoverNoUser] Country selected:",O.name,"Code:",O.code),r(O.name,O.code,O.flag)}}),m&&a.jsxs("div",{className:"absolute top-0 left-0 w-[1920px] h-[1080px] z-[100]",children:[a.jsx("div",{className:"absolute top-0 left-0 w-[1920px] h-[1080px] bg-black/80 backdrop-blur-[7px]"}),a.jsxs("div",{className:"absolute bg-[#1a1a1a] rounded-[20px] border-2 border-[rgba(255,255,255,0.1)]",style:{left:"660px",top:"340px",width:"600px",height:"400px"},"data-testid":"modal-exit-confirmation",children:[a.jsx("div",{className:"absolute top-[50px] left-[50px] right-[50px]",children:a.jsx("h2",{className:"font-['Ubuntu',Helvetica] font-bold text-[36px] text-white text-center",children:e("exit_app")||"Exit App?"})}),a.jsx("div",{className:"absolute top-[130px] left-[50px] right-[50px]",children:a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-normal text-[24px] text-white/70 text-center",children:e("are_you_sure_exit")||"Are you sure you want to exit MegaRadio?"})}),a.jsxs("div",{className:"absolute bottom-[50px] left-[50px] right-[50px] flex gap-6 justify-center",children:[a.jsx("button",{className:`px-12 py-4 rounded-[30px] font-['Ubuntu',Helvetica] font-bold text-[24px] transition-all ${b===0?"bg-white text-black border-4 border-[#ff4199]":"bg-[rgba(255,255,255,0.1)] text-white border-2 border-[rgba(255,255,255,0.2)]"}`,onClick:()=>w(!1),"data-testid":"button-exit-cancel",children:e("cancel")||"Cancel"}),a.jsx("button",{className:`px-12 py-4 rounded-[30px] font-['Ubuntu',Helvetica] font-bold text-[24px] transition-all ${b===1?"bg-[#ff4199] text-white border-4 border-[#ff4199]":"bg-[rgba(255,65,153,0.3)] text-white border-2 border-[rgba(255,65,153,0.5)]"}`,onClick:()=>{if(console.log("[DiscoverNoUser] Exit app - calling tizen.application.getCurrentApplication().exit()"),typeof window!="undefined"&&window.tizen)try{window.tizen.application.getCurrentApplication().exit()}catch(O){console.error("[DiscoverNoUser] Failed to exit via Tizen API:",O),window.close()}else window.close()},"data-testid":"button-exit-confirm",children:e("exit")||"Exit"})]})]})]})]})},Y2=()=>{var lt;console.log("[RadioPlaying] 🎬 Component mounting/rendering");const[e,t]=St(),{t:n}=ot(),{selectedCountry:o,selectedCountryCode:r,selectedCountryFlag:s,setCountry:i}=Er(),{isFavorite:l,toggleFavorite:c}=Uu(),{playStation:u,togglePlayPause:f,isPlaying:d,isBuffering:m,setGlobalPlayerFocusIndex:w,setIsGlobalPlayerFocused:b}=Pn();console.log("[RadioPlaying] 🎮 Global player state:",{isPlaying:d,isBuffering:m});const y=x.useRef([]),S=x.useRef(!1),[p,g]=x.useState(!1),h=x.useRef(null),v=x.useMemo(()=>{console.log("[RadioPlaying] 🔍 Parsing station ID from URL"),console.log("[RadioPlaying] 📍 Wouter location:",e),console.log("[RadioPlaying] 📍 window.location.search:",window.location.search),console.log("[RadioPlaying] 📍 window.location.hash:",window.location.hash),console.log("[RadioPlaying] 📍 window.location.href:",window.location.href),console.log("[RadioPlaying] 📍 Full URL breakdown:",{protocol:window.location.protocol,host:window.location.host,pathname:window.location.pathname,search:window.location.search,hash:window.location.hash});const z=e.indexOf("?");if(z!==-1){const V=e.substring(z+1);console.log("[RadioPlaying] 🔎 Found query string in wouter location:",V);const ee=new URLSearchParams(V),Ne=ee.get("station")||ee.get("stationId");if(Ne)return console.log("[RadioPlaying] ✅ Found station ID in hash params:",Ne),Ne;console.log("[RadioPlaying] ⚠️ Query string found but no station/stationId param")}if(window.location.search){console.log("[RadioPlaying] 🔎 Trying window.location.search:",window.location.search);const V=new URLSearchParams(window.location.search),ee=V.get("station")||V.get("stationId");if(ee)return console.log("[RadioPlaying] ✅ Found station ID in pre-hash params:",ee),ee;console.log("[RadioPlaying] ⚠️ window.location.search found but no station/stationId param")}return console.log("[RadioPlaying] ❌ No station ID found in URL - returning null"),null},[e]);x.useEffect(()=>{v&&!S.current&&y.current[y.current.length-1]!==v&&(y.current.push(v),console.log("[RadioPlaying] Station history updated:",y.current)),S.current=!1},[v]);const E=q("images/fallback-station.png"),I=z=>z.favicon&&z.favicon!=="null"&&z.favicon.trim()!==""?z.favicon.startsWith("http")?z.favicon:`https://themegaradio.com/api/image/${encodeURIComponent(z.favicon)}`:E,C=z=>z.tags?Array.isArray(z.tags)?z.tags:z.tags.split(",").map(V=>V.trim()):[],{data:N,isLoading:j,error:F}=Vt({queryKey:["station",v],queryFn:()=>te(this,null,function*(){var V,ee;console.log("[RadioPlaying] 📡 Fetching station details for stationId:",v);const z=yield Ve.getStationById(v);return console.log("[RadioPlaying] ✅ Station details fetched successfully"),console.log("[RadioPlaying] 📻 Station name:",(V=z==null?void 0:z.station)==null?void 0:V.name),console.log("[RadioPlaying] 📻 Station URL:",(ee=z==null?void 0:z.station)==null?void 0:ee.url),console.log("[RadioPlaying] 📻 Station data:",z==null?void 0:z.station),z}),enabled:!!v,retry:2,staleTime:3e4}),_=N==null?void 0:N.station;console.log("[RadioPlaying] 🎯 Query state:",{stationId:v,enabled:!!v,isLoadingStation:j,hasStationData:!!N,hasStation:!!_,stationName:_==null?void 0:_.name,error:F});const{data:$}=Vt({queryKey:["metadata",v],queryFn:()=>Ve.getStationMetadata(v),enabled:!!v,refetchInterval:3e4}),Y=$==null?void 0:$.metadata,{data:J}=Vt({queryKey:["similar-stations",v,(_==null?void 0:_.countrycode)||(_==null?void 0:_.country)],queryFn:()=>te(this,null,function*(){if(!_)return{stations:[]};const z=_.countrycode||_.country;if(z){const De=(yield Ve.getWorkingStations({limit:100,country:z})).stations.filter(Mt=>Mt._id!==v);for(let Mt=De.length-1;Mt>0;Mt--){const Fr=Math.floor(Math.random()*(Mt+1));[De[Mt],De[Fr]]=[De[Fr],De[Mt]]}return{stations:De}}const ee=(yield Ve.getSimilarStations(v,100)).stations.filter(Ne=>Ne._id!==v);for(let Ne=ee.length-1;Ne>0;Ne--){const De=Math.floor(Math.random()*(Ne+1));[ee[Ne],ee[De]]=[ee[De],ee[Ne]]}return{stations:ee}}),enabled:!!v&&!!_,staleTime:0,gcTime:0}),H=(J==null?void 0:J.stations)||[];x.useEffect(()=>{H.length>0&&(console.log("[RadioPlaying] Similar stations updated:",H.length,"stations"),console.log("[RadioPlaying] First 3 similar:",H.slice(0,3).map(z=>z.name)))},[H]);const X=x.useMemo(()=>10+Math.min(H.length,20),[H.length]),re=["/discover-no-user","/genres","/search","/favorites","/settings"],M=z=>{const V=L;let ee=V;if(V>=0&&V<=4)z==="DOWN"?ee=V<4?V+1:V:z==="UP"?ee=V>0?V-1:V:z==="RIGHT"&&(ee=5);else if(V===5)z==="DOWN"?ee=6:(z==="UP"||z==="LEFT")&&(ee=0);else if(V>=6&&V<=9){const Ne=V-6;z==="LEFT"?Ne>0?ee=V-1:ee=0:z==="RIGHT"?Ne<3&&(ee=V+1):z==="UP"?ee=5:z==="DOWN"&&H.length>0&&(ee=10)}else if(V>=10){const Ne=V-10;z==="LEFT"?Ne>0?ee=V-1:ee=0:z==="RIGHT"?V<X-1&&(ee=V+1):z==="UP"&&(ee=7)}ee=Math.max(0,Math.min(X-1,ee)),k(ee)};_t("/radio-playing",z=>{if(p){console.log("[RadioPlaying] Key event ignored - country selector modal is open");return}const V=window.tvKey;if(z.keyCode===(V==null?void 0:V.RETURN)||z.keyCode===461||z.keyCode===10009){console.log("[RadioPlaying] 🔙 RETURN key pressed - navigating to Discover"),t("/discover-no-user");return}switch(z.keyCode){case(V==null?void 0:V.UP):case 38:M("UP");break;case(V==null?void 0:V.DOWN):case 40:M("DOWN");break;case(V==null?void 0:V.LEFT):case 37:M("LEFT");break;case(V==null?void 0:V.RIGHT):case 39:M("RIGHT");break;case(V==null?void 0:V.ENTER):case 13:R();break;case(V==null?void 0:V.PAGE_DOWN):case 34:z.preventDefault(),H.length>0&&(k(10),console.log("[RadioPlaying] PageDown - jumped to similar stations"));break;case(V==null?void 0:V.PAGE_UP):case 33:z.preventDefault(),k(7),console.log("[RadioPlaying] PageUp - jumped to playback controls");break}});const{focusIndex:L,setFocusIndex:k,handleSelect:R,isFocused:A}=ko({totalItems:X,cols:1,initialIndex:8,onSelect:z=>{if(z>=0&&z<=4){const V=re[z];V!=="#"&&t(V)}else if(z===5)g(!0);else if(z===6)oe();else if(z===7)W();else if(z===8)ye();else if(z===9)_&&c(_);else if(z>=10){const V=z-10,ee=H[V];ee&&Ce(ee)}},onBack:()=>{console.log("[RadioPlaying] 🔙 Back button - navigating to Discover"),t("/discover-no-user")}});x.useEffect(()=>{if(L>=6&&L<=9){const z=L-6;console.log("[RadioPlaying] 🎯 Auto-focus sync triggered - jumping to GlobalPlayer"),console.log("[RadioPlaying] RadioPlaying index:",L,"-> GlobalPlayer index:",z),w(z),b(!0)}else console.log("[RadioPlaying] 🔄 Focus left player controls - resetting GlobalPlayer focus"),b(!1)},[L,w,b]),x.useEffect(()=>{if(L>=10&&h.current){const ee=(L-10)*224;h.current.scrollTo({left:ee,behavior:"smooth"})}},[L]),x.useEffect(()=>{console.log("[RadioPlaying] 🎵 Auto-play effect triggered"),console.log("[RadioPlaying] 🎵 Has station:",!!_),_?(console.log("[RadioPlaying] 🎵 Station data available:",{name:_.name,id:_._id,url:_.url,codec:_.codec,bitrate:_.bitrate}),console.log("[RadioPlaying] ▶️ Starting auto-play via global player"),u(_),console.log("[RadioPlaying] ✅ Auto-play initiated")):console.log("[RadioPlaying] ⏳ Waiting for station data to auto-play")},[_,u]);const W=()=>{f()},oe=()=>{if(y.current.length<=1){console.log("[RadioPlaying] No previous station in history");return}y.current.pop();const z=y.current[y.current.length-1];S.current=!0,console.log("[RadioPlaying] Going to previous station:",z),t(`/radio-playing?station=${z}`)},ye=()=>{if(H.length===0){console.log("[RadioPlaying] No similar stations available");return}const z=H[0];console.log("[RadioPlaying] Going to next station:",z.name,z._id),t(`/radio-playing?station=${z._id}`)},Ce=z=>{console.log("[RadioPlaying] Navigating to station:",z.name,z._id),u(z),t(`/radio-playing?station=${z._id}`)};if(F)return console.error("[RadioPlaying] Error loading station:",F),a.jsxs("div",{className:"absolute inset-0 w-[1920px] h-[1080px] bg-black flex flex-col items-center justify-center gap-8",children:[a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-bold text-[40px] text-white",children:n("failed_to_load_station")||"Failed to load station"}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[24px] text-gray-400",children:F instanceof Error?F.message:"Unknown error"}),a.jsx(Te,{href:"/discover-no-user",children:a.jsx("button",{className:"bg-[#ff4199] hover:bg-[#ff1a85] px-12 py-4 rounded-[30px] font-['Ubuntu',Helvetica] font-bold text-[24px] text-white transition-colors",children:n("back_to_discover")||"Back to Discover"})})]});if(!v)return console.error("[RadioPlaying] ❌ No station ID - cannot load station"),a.jsxs("div",{className:"absolute inset-0 w-[1920px] h-[1080px] bg-black flex flex-col items-center justify-center gap-8",children:[a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-bold text-[40px] text-white",children:n("no_station_selected")||"No Station Selected"}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[24px] text-gray-400",children:n("please_select_station")||"Please select a station to play"}),a.jsx(Te,{href:"/discover-no-user",children:a.jsx("button",{className:"bg-[#ff4199] hover:bg-[#ff1a85] px-12 py-4 rounded-[30px] font-['Ubuntu',Helvetica] font-bold text-[24px] text-white transition-colors",children:n("back_to_discover")||"Back to Discover"})})]});if(j||!_)return console.log("[RadioPlaying] 🔄 LOADING STATE - Showing loading screen"),console.log("[RadioPlaying] 🔄 isLoadingStation:",j),console.log("[RadioPlaying] 🔄 hasStation:",!!_),console.log("[RadioPlaying] 🔄 stationId:",v),console.log("[RadioPlaying] 🔄 stationData:",N),console.log("[RadioPlaying] 🔄 Station is:",_?"AVAILABLE":"NULL"),a.jsxs("div",{className:"absolute inset-0 w-[1920px] h-[1080px] bg-black flex flex-col items-center justify-center gap-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-24 w-24 border-t-4 border-b-4 border-[#ff4199]"}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[32px] text-white animate-pulse",children:((lt=N==null?void 0:N.station)==null?void 0:lt.name)||n("loading_station")||"Loading station..."}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-normal text-[20px] text-gray-500",children:n("please_wait")||"Please wait"}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-normal text-[16px] text-gray-600 mt-4",children:n("press_return_to_go_back")||"Press RETURN to go back"})]});const ce=C(_),it=_.codec||"MP3",lo=_.bitrate?`${_.bitrate}kb`:"128kb",dn=_.countrycode||_.countryCode||"XX";return a.jsxs("div",{className:"absolute inset-0 w-[1920px] h-[1080px] overflow-y-auto scrollbar-hide",style:{background:"radial-gradient(181.15% 96.19% at 5.26% 9.31%, #0E0E0E 0%, #3F1660 29.6%, #0E0E0E 100%)"},children:[a.jsxs("div",{className:"absolute h-[57px] left-[30px] top-[64px] w-[164.421px] z-50",children:[a.jsxs("p",{className:"absolute bottom-0 font-['Ubuntu',Helvetica] leading-normal left-[18.67%] not-italic right-0 text-[27.029px] text-white top-[46.16%] whitespace-pre-wrap",children:[a.jsx("span",{className:"font-bold",children:"mega"}),"radio"]}),a.jsx("div",{className:"absolute bottom-[2.84%] left-0 right-[65.2%] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/path-8.svg")})})]}),a.jsx("div",{className:`absolute left-[1383px] overflow-clip rounded-[30px] size-[51px] top-[67px] z-50 transition-colors ${d?"bg-[#ff4199]":"bg-[rgba(255,255,255,0.1)]"}`,children:a.jsxs("div",{className:"absolute h-[25px] left-[13.75px] overflow-clip top-[13px] w-[23.75px]",children:[a.jsx("div",{className:`absolute bg-white left-0 rounded-[10px] top-0 w-[6.25px] ${d?"animate-equalizer-global-1":"h-[25px]"}`,style:{height:d?void 0:"25px"}}),a.jsx("div",{className:`absolute bg-white left-[8.75px] rounded-[10px] top-[7.5px] w-[6.25px] ${d?"animate-equalizer-global-2":"h-[17.5px]"}`,style:{height:d?void 0:"17.5px"}}),a.jsx("div",{className:`absolute bg-white left-[17.5px] rounded-[10px] top-[3.75px] w-[6.25px] ${d?"animate-equalizer-global-3":"h-[21.25px]"}`,style:{height:d?void 0:"21.25px"}})]})}),a.jsx($u,{selectedCountry:o,selectedCountryCode:r,onClick:()=>g(!0),focusClasses:de(A(5)),className:"absolute left-[1453px] top-[67px] z-50"}),a.jsx(To,{activePage:"discover",isFocused:A,getFocusClasses:de}),a.jsx("div",{className:"absolute bg-white left-[236px] overflow-clip rounded-[16.692px] size-[296px] top-[242px]",children:a.jsx("img",{src:I(_),alt:_.name,className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",onError:z=>{z.target.src=E}})}),a.jsxs("div",{className:"absolute h-[35px] left-[596px] overflow-clip top-[242px] w-[33.25px]",children:[a.jsx("div",{className:`absolute bg-[#ff4199] left-0 rounded-[10px] top-0 w-[8.75px] ${d?"animate-equalizer-global-1":"h-[35px]"}`,style:{height:d?void 0:"35px"}}),a.jsx("div",{className:`absolute bg-[#ff4199] left-[12.25px] rounded-[10px] w-[8.75px] ${d?"animate-equalizer-global-2":"h-[24.5px] top-[10.5px]"}`,style:{height:d?void 0:"24.5px",top:d?void 0:"10.5px"}}),a.jsx("div",{className:`absolute bg-[#ff4199] left-[24.5px] rounded-[10px] w-[8.75px] ${d?"animate-equalizer-global-3":"h-[29.75px] top-[5.25px]"}`,style:{height:d?void 0:"29.75px",top:d?void 0:"5.25px"}})]}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[596px] not-italic text-[48px] text-white top-[293px]",children:_.name}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[596px] not-italic text-[32px] text-white top-[356.71px]",children:(Y==null?void 0:Y.title)||n("now_playing")||"Now Playing"}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[596px] not-italic text-[24px] text-white top-[425px]",children:n("station_info")||"Station Info"}),a.jsxs("div",{className:"absolute left-[596px] top-[476px] flex gap-[11.3px] items-center",children:[a.jsx("div",{className:"size-[34.783px] rounded-full overflow-hidden",children:a.jsx("img",{src:`https://flagcdn.com/w40/${dn.toLowerCase()}.png`,alt:_.country,className:"w-full h-full object-cover",onError:z=>{z.target.src=E}})}),a.jsx("div",{className:"bg-[#242424] h-[40px] overflow-clip rounded-[5.217px] px-[20px] flex items-center justify-center",children:a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[24.348px] text-white",children:lo})}),a.jsx("div",{className:"bg-[#242424] h-[40px] overflow-clip rounded-[5.217px] px-[20px] flex items-center justify-center",children:a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[24.348px] text-white",children:it})}),a.jsx("div",{className:"bg-[#242424] h-[40px] overflow-clip rounded-[5.217px] px-[20px] flex items-center justify-center",children:a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[24.348px] text-white",children:dn})}),ce.slice(0,2).map((z,V)=>a.jsx("div",{className:"bg-[#242424] h-[40px] overflow-clip rounded-[5.217px] px-[20px] flex items-center justify-center",children:a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[24.348px] text-white",children:z})},V))]}),a.jsxs("div",{className:"absolute h-[90.192px] left-[1372px] top-[356px] w-[469px]",children:[a.jsx("div",{className:`absolute bg-black left-0 overflow-clip rounded-[45.096px] size-[90.192px] top-0 cursor-pointer hover:bg-gray-900 transition-all flex items-center justify-center ${de(A(6))} ${A(6)?"animate-pulse-soft":""}`,onClick:oe,"data-testid":"button-previous",children:a.jsxs("svg",{className:"size-[54.115px]",viewBox:"0 0 55 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M34.375 16.9792L23.6042 27.75L34.375 38.5208",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M16.1458 16.9792V38.5208",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]})}),a.jsx("div",{className:`absolute bg-black left-[126.27px] overflow-clip rounded-[45.096px] size-[90.192px] top-0 cursor-pointer hover:bg-gray-900 transition-colors flex items-center justify-center ${de(A(7))} ${d?"animate-pulse-soft":""}`,onClick:W,"data-testid":"button-play-pause",children:d?a.jsxs("svg",{className:"size-[54.115px]",viewBox:"0 0 55 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{x:"18",y:"14",width:"6",height:"27",rx:"2",fill:"white"}),a.jsx("rect",{x:"31",y:"14",width:"6",height:"27",rx:"2",fill:"white"})]}):a.jsx("svg",{className:"size-[54.115px]",viewBox:"0 0 55 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M20 14L38 27.5L20 41V14Z",fill:"white"})})}),a.jsx("div",{className:`absolute bg-black left-[252.54px] overflow-clip rounded-[45.096px] size-[90.192px] top-0 cursor-pointer hover:bg-gray-900 transition-all flex items-center justify-center ${de(A(8))} ${A(8)?"animate-pulse-soft":""}`,onClick:ye,"data-testid":"button-next",children:a.jsxs("svg",{className:"size-[54.115px]",viewBox:"0 0 55 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M20.625 16.9792L31.3958 27.75L20.625 38.5208",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M38.8542 16.9792V38.5208",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]})}),a.jsx("div",{className:`absolute border-[3.608px] border-solid left-[378.81px] rounded-[72.655px] size-[90.192px] top-0 cursor-pointer transition-all flex items-center justify-center ${l(_._id)?"bg-[#ff4199] border-[#ff4199] hover:bg-[#e0368a] animate-pulse-soft":"border-black hover:bg-[rgba(255,255,255,0.1)]"} ${de(A(9))} ${A(9)?"animate-pulse-soft":""}`,onClick:()=>c(_),"data-testid":"button-favorite",children:a.jsx("svg",{className:"size-[50.508px]",viewBox:"0 0 51 51",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M25.5 44.625C24.7396 44.625 23.9792 44.3958 23.3604 43.9375C18.9375 40.6042 14.9479 37.6771 11.9792 34.7917C7.44792 30.3479 4.25 26.2646 4.25 20.625C4.25 12.6667 10.5 6.375 18.0625 6.375C21.6042 6.375 24.9167 8.14583 27.125 11.1354C29.3333 8.14583 32.6458 6.375 36.1875 6.375C43.75 6.375 50 12.6667 50 20.625C50 26.2646 46.8021 30.3479 42.2708 34.8125C39.3021 37.6979 35.3125 40.625 30.8896 43.9583C30.2708 44.3958 29.5104 44.625 28.75 44.625H25.5Z",fill:"white"})})})]}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[236px] not-italic text-[32px] text-white top-[559px]",children:n("similar_radios")||n("similar_stations")||"Similar Radios"}),a.jsx("div",{ref:h,className:"absolute left-[236px] top-[633px] flex gap-[24px] overflow-x-auto scrollbar-hide w-[1610px] scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:H.slice(0,20).map((z,V)=>{const ee=10+V;return a.jsxs("div",{className:`flex-shrink-0 bg-[rgba(255,255,255,0.14)] h-[264px] overflow-clip rounded-[11px] w-[200px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-all duration-200 relative ${A(ee)?"border-[4px] border-[#ff4199] shadow-[0_0_30px_rgba(255,65,153,0.8)]":"border-[4px] border-transparent"}`,style:{boxShadow:A(ee)?"0 0 30px rgba(255, 65, 153, 0.8)":"inset 1.1px 1.1px 12.1px 0 rgba(255, 255, 255, 0.12)"},"data-testid":`card-similar-${z._id}`,onClick:()=>Ce(z),children:[a.jsx("div",{className:"bg-white mx-auto mt-[34px] overflow-clip rounded-[6.6px] size-[132px]",children:a.jsx("img",{className:"w-full h-full object-cover",alt:z.name,src:I(z),onError:Ne=>{Ne.target.src=E}})}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[22px] text-center text-white leading-normal mt-[21px] truncate px-2",children:z.name}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-light text-[18px] text-center text-white leading-normal mt-[6.2px] truncate px-2",children:C(z)[0]||z.country||"Radio"})]},z._id||V)})}),p&&a.jsx(Hs,{isOpen:p,onClose:()=>g(!1),selectedCountry:o,onSelectCountry:z=>{console.log("[RadioPlaying] Country selected:",z),i(z.name,z.code,z.flag),g(!1)}})]})},q2=()=>{const{selectedCountry:e,selectedCountryCode:t,selectedCountryFlag:n}=Er(),{isPlaying:o,focusGlobalPlayer:r,currentStation:s}=Pn(),{t:i}=ot(),[,l]=St(),c=x.useRef(null),[u,f]=x.useState(!1),{data:d}=Vt({queryKey:["/api/genres",t],queryFn:()=>te(this,null,function*(){var N;console.log("[Genres] 🎵 Fetching genres for country:",t,e);const C=yield Ve.getAllGenres(t);return console.log("[Genres] ✅ Fetched",(N=C.genres)==null?void 0:N.length,"genres for",e),C}),staleTime:6e4}),m=x.useMemo(()=>d!=null&&d.genres?(console.log("[Genres] Loaded genres from API:",d.genres.length),d.genres.map(C=>({name:C.name,slug:C.name.toLowerCase().replace(/\s+/g,"-"),stationCount:C.stationCount||0}))):(console.log("[Genres] No genres data from API"),[]),[d]),w=m.slice(0,8),b=7+w.length+m.length,y=["/discover-no-user","/genres","/search","/favorites","/settings"],S=C=>{const N=h;let j=N;if(N>=0&&N<=4)C==="DOWN"?j=N<4?N+1:N:C==="UP"?j=N>0?N-1:N:C==="RIGHT"&&(j=6);else if(N===6)C==="DOWN"?j=7:C==="LEFT"&&(j=0);else if(N>=7&&N<=14){const F=N-7,_=Math.floor(F/4),$=F%4;C==="LEFT"?$>0?j=N-1:j=0:C==="RIGHT"?$<3&&N<14&&(j=N+1):C==="UP"?_>0?j=N-4:j=6:C==="DOWN"&&(_<1&&N+4<=14?j=N+4:j=15+Math.min($,5))}else if(N>=15){const F=N-15,_=Math.floor(F/6),$=F%6;if(C==="LEFT")$>0?j=N-1:j=0;else if(C==="RIGHT")$<5&&N<b-1&&(j=N+1);else if(C==="UP")_>0?j=N-6:j=11+Math.min($,3);else if(C==="DOWN"){const Y=N+6;Y<b&&(j=Y)}}j=Math.max(0,Math.min(b-1,j)),v(j)},[p,g]=x.useState(!1);x.useEffect(()=>{!p&&w.length>0&&(console.log("[Genres] First mount - jumping to first popular genre at index 7"),v(7),g(!0))},[w.length,p]);const{focusIndex:h,setFocusIndex:v,handleSelect:E,isFocused:I}=ko({totalItems:b,cols:1,initialIndex:7,onSelect:C=>{if(C>=0&&C<=4){const N=y[C];N!=="#"&&l(N)}else if(C===6)f(!0);else if(C>=7&&C<=14){const N=C-7,j=w[N];if(j){console.log("🎯 [GENRE NAV DEBUG] Popular genre clicked:",{index:C,genreIndex:N,genreName:j.name,genreSlug:j.slug,targetURL:`/genre-list/${encodeURIComponent(j.slug)}`});const F=`/genre-list/${encodeURIComponent(j.slug)}`;console.log("🎯 [GENRE NAV DEBUG] Setting location to:",F),l(F),console.log("🎯 [GENRE NAV DEBUG] setLocation called successfully")}}else if(C>=15){const N=C-15,j=m[N];if(j){console.log("🎯 [GENRE NAV DEBUG] All genre clicked:",{index:C,genreIndex:N,genreName:j.name,genreSlug:j.slug,targetURL:`/genre-list/${encodeURIComponent(j.slug)}`});const F=`/genre-list/${encodeURIComponent(j.slug)}`;console.log("🎯 [GENRE NAV DEBUG] Setting location to:",F),l(F),console.log("🎯 [GENRE NAV DEBUG] setLocation called successfully")}}},onBack:()=>{l("/discover-no-user")}});return x.useEffect(()=>{const C=N=>{const{index:j}=N.detail;console.log("[Genres] focusSidebar event received, jumping to index:",j),v(j)};return window.addEventListener("focusSidebar",C),()=>{window.removeEventListener("focusSidebar",C)}},[v]),_t("/genres",C=>{if(u){console.log("[Genres] Key event ignored - country selector modal is open");return}const N=window.tvKey;switch(C.keyCode){case(N==null?void 0:N.UP):case 38:S("UP");break;case(N==null?void 0:N.DOWN):case 40:S("DOWN");break;case(N==null?void 0:N.LEFT):case 37:S("LEFT");break;case(N==null?void 0:N.RIGHT):case 39:S("RIGHT");break;case(N==null?void 0:N.PAGE_UP):case 33:case(N==null?void 0:N.PAGE_DOWN):case 34:s&&(console.log("[Genres] PAGE_UP/PAGE_DOWN pressed - focusing GlobalPlayer"),C.preventDefault(),r());break;case(N==null?void 0:N.ENTER):case 13:E();break}}),x.useEffect(()=>{if(!c.current)return;const C=c.current;let N=0;if(h>=0&&h<=6)N=0;else if(h>=7&&h<=10)N=0;else if(h>=11&&h<=14)N=150;else if(h>=15){const j=h-15;N=400+Math.floor(j/6)*170}C.scrollTo({top:N,behavior:"smooth"})},[h]),a.jsxs("div",{ref:c,className:"absolute inset-0 w-[1920px] h-[1080px] overflow-y-auto overflow-x-hidden","data-testid":"page-genres",children:[a.jsx("div",{className:"absolute h-[1292px] left-[-10px] top-[-523px] w-[1939px]",children:a.jsx("img",{alt:"",className:"absolute inset-0 max-w-none object-center object-cover pointer-events-none size-full",src:q("images/hand-crowd-disco-1.png")})}),a.jsx("div",{className:"absolute bg-gradient-to-b from-[18.704%] from-[rgba(14,14,14,0)] h-[1080px] left-0 to-[#0e0e0e] to-[25.787%] top-0 w-[1920px]"}),a.jsxs("div",{className:"absolute h-[57px] left-[30px] top-[64px] w-[164.421px] z-50",children:[a.jsxs("p",{className:"absolute bottom-0 font-['Ubuntu',Helvetica] leading-normal left-[18.67%] not-italic right-0 text-[27.029px] text-white top-[46.16%] whitespace-pre-wrap",children:[a.jsx("span",{className:"font-bold",children:"mega"}),"radio"]}),a.jsx("div",{className:"absolute bottom-[2.84%] left-0 right-[65.2%] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/path-8.svg")})})]}),a.jsx("div",{className:`absolute left-[1383px] overflow-clip rounded-[30px] size-[51px] top-[67px] z-50 transition-colors ${o?"bg-[#ff4199]":"bg-[rgba(255,255,255,0.1)]"}`,children:a.jsxs("div",{className:"absolute h-[25px] left-[13.75px] overflow-clip top-[13px] w-[23.75px]",children:[a.jsx("div",{className:`absolute bg-white left-0 rounded-[10px] top-0 w-[6.25px] ${o?"animate-equalizer-1":"h-[25px]"}`,style:{height:o?void 0:"25px"}}),a.jsx("div",{className:`absolute bg-white left-[8.75px] rounded-[10px] top-[7.5px] w-[6.25px] ${o?"animate-equalizer-2":"h-[17.5px]"}`,style:{height:o?void 0:"17.5px"}}),a.jsx("div",{className:`absolute bg-white left-[17.5px] rounded-[10px] top-[3.75px] w-[6.25px] ${o?"animate-equalizer-3":"h-[21.25px]"}`,style:{height:o?void 0:"21.25px"}})]})}),a.jsx($u,{selectedCountry:e,selectedCountryCode:t,onClick:()=>f(!0),focusClasses:de(I(6)),className:"absolute left-[1453px] top-[67px] z-50"}),a.jsx(Hs,{isOpen:u,onClose:()=>f(!1),selectedCountry:e,onSelectCountry:C=>{f(!1)}}),a.jsx(To,{activePage:"genres",isFocused:I,getFocusClasses:de}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[243px] not-italic text-[32px] text-white top-[242px]",children:i("popular_genres")||"Popular Genres"}),w.slice(0,4).map((C,N)=>{const j=[{left:237,width:386},{left:644,width:387},{left:1052,width:386},{left:1459,width:382}],F=7+N;return a.jsx(Te,{href:`/genre-list/${encodeURIComponent(C.slug)}`,children:a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] box-border content-stretch flex flex-col gap-[10px] h-[139px] items-start justify-center px-[40px] py-[28px] rounded-[20px] top-[309px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(I(F))}`,"data-testid":`card-genre-${C.slug}`,style:{left:`${j[N].left}px`,width:`${j[N].width}px`},onClick:()=>l(`/genre-list/${encodeURIComponent(C.slug)}`),children:[a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic relative shrink-0 text-[24px] text-center text-white",children:C.name}),a.jsxs("p",{className:"font-['Ubuntu',Helvetica] leading-normal not-italic relative shrink-0 text-[22px] text-center text-white",children:[C.stationCount," ",i("stations")||"Stations"]}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)] rounded-[20px]"})]})},C.slug||N)}),w.slice(4,8).map((C,N)=>{const j=[{left:237,width:386},{left:644,width:387},{left:1052,width:386},{left:1459,width:382}],F=11+N;return a.jsx(Te,{href:`/genre-list/${encodeURIComponent(C.slug)}`,children:a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] box-border content-stretch flex flex-col gap-[10px] h-[139px] items-start justify-center px-[40px] py-[28px] rounded-[20px] top-[467px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(I(F))}`,"data-testid":`card-genre-${C.slug}`,style:{left:`${j[N].left}px`,width:`${j[N].width}px`},onClick:()=>l(`/genre-list/${encodeURIComponent(C.slug)}`),children:[a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic relative shrink-0 text-[24px] text-center text-white",children:C.name}),a.jsxs("p",{className:"font-['Ubuntu',Helvetica] leading-normal not-italic relative shrink-0 text-[22px] text-center text-white",children:[C.stationCount," ",i("stations")||"Stations"]}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)] rounded-[20px]"})]})},C.slug||N)}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[243px] not-italic text-[32px] text-white top-[670px]",children:i("all")||"All"}),m.map((C,N)=>{const j=[{left:237,width:248},{left:504,width:248},{left:771,width:248},{left:1038,width:248},{left:1305,width:248},{left:1572,width:248}],F=Math.floor(N/6),_=N%6,$=737+F*158,Y=15+N;return a.jsx(Te,{href:`/genre-list/${encodeURIComponent(C.slug)}`,children:a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] box-border content-stretch flex flex-col gap-[10px] h-[139px] items-start justify-center px-[30px] py-[28px] rounded-[20px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(I(Y))}`,"data-testid":`card-genre-all-${C.slug}`,style:{left:`${j[_].left}px`,width:`${j[_].width}px`,top:`${$}px`},onClick:()=>l(`/genre-list/${encodeURIComponent(C.slug)}`),children:[a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic relative shrink-0 text-[20px] text-center text-white",children:C.name}),a.jsxs("p",{className:"font-['Ubuntu',Helvetica] leading-normal not-italic relative shrink-0 text-[18px] text-center text-white",children:[C.stationCount," Stations"]}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)] rounded-[20px]"})]})},C.slug||N)}),a.jsx("div",{style:{height:`${Math.max(1080,737+Math.ceil(m.length/6)*158+200)}px`}})]})},X2=({children:e,currentPage:t,hideHeaderControls:n=!1,scrollContainerRef:o})=>{const{selectedCountry:r,selectedCountryFlag:s,setCountry:i}=Er(),{isPlaying:l}=Pn(),[c,u]=x.useState(!1),[f,d]=x.useState(!0),m=x.useRef(0);return x.useEffect(()=>{const w=o==null?void 0:o.current;if(!w)return;const b=()=>{const y=w.scrollTop;y>m.current&&y>50?d(!1):y<m.current&&d(!0),m.current=y};return w.addEventListener("scroll",b),()=>w.removeEventListener("scroll",b)},[o]),a.jsxs("div",{className:"absolute inset-0 w-[1920px] h-[1080px] bg-black overflow-hidden",children:[a.jsxs("div",{className:"absolute h-[57px] left-[30px] top-[64px] w-[164.421px] z-50 pointer-events-auto",children:[a.jsxs("p",{className:"absolute bottom-0 font-['Ubuntu',Helvetica] leading-normal left-[18.67%] not-italic right-0 text-[27.029px] text-white top-[46.16%] whitespace-pre-wrap",children:[a.jsx("span",{className:"font-bold",children:"mega"}),"radio"]}),a.jsx("div",{className:"absolute bottom-[2.84%] left-0 right-[65.2%] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/path-8.svg")})})]}),!n&&a.jsxs("div",{className:"absolute top-0 left-0 w-[1920px] h-[242px] z-50 pointer-events-none transition-transform duration-300 ease-in-out",style:{transform:f?"translateY(0)":"translateY(-100%)"},children:[a.jsx("div",{className:`absolute left-[1383px] overflow-clip rounded-[30px] size-[51px] top-[67px] pointer-events-auto transition-colors ${l?"bg-[#ff4199]":"bg-[rgba(255,255,255,0.1)]"}`,children:a.jsxs("div",{className:"absolute h-[25px] left-[13.75px] overflow-clip top-[13px] w-[23.75px]",children:[a.jsx("div",{className:`absolute bg-white left-0 rounded-[10px] top-0 w-[6.25px] ${l?"animate-equalizer-1":"h-[25px]"}`,style:{height:l?void 0:"25px"}}),a.jsx("div",{className:`absolute bg-white left-[8.75px] rounded-[10px] top-[7.5px] w-[6.25px] ${l?"animate-equalizer-2":"h-[17.5px]"}`,style:{height:l?void 0:"17.5px"}}),a.jsx("div",{className:`absolute bg-white left-[17.5px] rounded-[10px] top-[3.75px] w-[6.25px] ${l?"animate-equalizer-3":"h-[21.25px]"}`,style:{height:l?void 0:"21.25px"}})]})}),a.jsx("div",{className:"absolute left-[1453px] top-[67px] flex w-[223px] h-[51px] rounded-[30px] bg-[rgba(255,255,255,0.1)] cursor-pointer hover:bg-[rgba(255,255,255,0.15)] transition-colors pointer-events-auto flex-shrink-0",style:{padding:"11px 14.316px 11px 15px",justifyContent:"center",alignItems:"center"},onClick:()=>u(!0),"data-testid":"button-country-selector","data-tv-focusable":"true",children:a.jsxs("div",{className:"flex items-center gap-[10.66px]",children:[a.jsx("div",{className:"size-[28.421px] rounded-full overflow-hidden flex-shrink-0",children:a.jsx("img",{alt:r,className:"w-full h-full object-cover",src:s||q("images/austria-1.png"),onError:w=>{w.target.src=q("images/austria-1.png")}})}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-bold leading-normal text-[24px] text-white whitespace-nowrap",children:r||"Austria"}),a.jsx("div",{className:"flex items-center justify-center ml-auto",children:a.jsx("div",{className:"rotate-[270deg]",children:a.jsx("div",{className:"relative size-[23.684px]",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/arrow.svg")})})})})]})})]}),a.jsx(To,{activePage:t||"discover",isFocused:()=>!1,getFocusClasses:de}),e,a.jsx(Hs,{isOpen:c,onClose:()=>u(!1),selectedCountry:r,onSelectCountry:w=>{console.log("[AppLayout] Country selected globally:",w.name,"Code:",w.code),i(w.name,w.code,w.flag)}})]})},Z2=()=>{const[e,t]=St(),{selectedCountryCode:n}=Er(),{t:o}=ot(),r=x.useRef(null),{focusGlobalPlayer:s,currentStation:i}=Pn();console.log("🔍 [GENRE LIST DEBUG] ===== COMPONENT RENDER ====="),console.log("🔍 [GENRE LIST DEBUG] Raw location from wouter:",e),console.log("🔍 [GENRE LIST DEBUG] Window hash:",window.location.hash);const l=e.split("/");console.log("🔍 [GENRE LIST DEBUG] Path parts:",l);let c=l[2]||"pop";console.log("🔍 [GENRE LIST DEBUG] Extracted genre slug:",c),console.log("🔍 [GENRE LIST DEBUG] Selected country:",n);const u=c.split("-").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" ");console.log("[GenreList] URL genre slug:",c,"| Display name:",u);const[f,d]=x.useState([]),[m,w]=x.useState(0),[b,y]=x.useState(!1),[S,p]=x.useState(!0);console.log("🔍 [GENRE LIST DEBUG] Creating query with:",{queryKey:["genre-stations/initial",c,n],genreSlug:c,selectedCountryCode:n});const{data:g,isLoading:h,refetch:v}=Vt({queryKey:["genre-stations/initial",c,n],queryFn:()=>te(this,null,function*(){var k,R;console.log("🎵 [GENRE LIST DEBUG] Query function executing..."),console.log("🎵 [GENRE LIST DEBUG] Fetching INITIAL 100 stations for genre:",c,"country:",n,"offset=0");const L=yield Ve.getStationsByGenre(c,{country:n,limit:100,offset:0,sort:"votes"});return console.log("✅ [GENRE LIST DEBUG] Fetched",((k=L==null?void 0:L.stations)==null?void 0:k.length)||0,"stations"),console.log("✅ [GENRE LIST DEBUG] First 3 stations:",(R=L==null?void 0:L.stations)==null?void 0:R.slice(0,3).map(A=>A.name)),L}),staleTime:0,gcTime:6e4});x.useEffect(()=>{console.log("🔄 [GENRE LIST DEBUG] Genre effect triggered"),console.log("🔄 [GENRE LIST DEBUG] Current genre slug:",c),console.log("🔄 [GENRE LIST DEBUG] Calling refetch..."),v()},[c,v]),x.useEffect(()=>{var L;if(console.log("📊 [GENRE LIST DEBUG] Data effect triggered"),console.log("📊 [GENRE LIST DEBUG] Stations data:",((L=g==null?void 0:g.stations)==null?void 0:L.length)||0),console.log("📊 [GENRE LIST DEBUG] Current genre:",c),console.log("📊 [GENRE LIST DEBUG] Current country:",n),g!=null&&g.stations&&g.stations.length>0){const k=g.stations;console.log("📊 [GENRE LIST DEBUG] Setting initial stations:",k.length),console.log("📊 [GENRE LIST DEBUG] First 3 stations:",k.slice(0,3).map(A=>A.name)),d(k),w(100);const R=k.length>=100;p(R),console.log(`[GenreList] Initial load: ${k.length} stations, hasMore=${R}, nextOffset=100`)}else g!=null&&g.stations&&g.stations.length===0&&(console.log("⚠️ [GENRE LIST DEBUG] No stations found for this genre/country"),d([]),p(!1),w(0))},[g==null?void 0:g.stations,c,n]);const E=()=>te(this,null,function*(){if(b||!S){console.log(`[GenreList] Skipping load - isLoadingMore=${b}, hasMore=${S}`);return}y(!0),console.log(`[GenreList] 🚀 Fetching next batch - offset=${m}, limit=100, genre=${c}, country=${n}`);try{const k=(yield Ve.getStationsByGenre(c,{country:n,limit:100,offset:m,sort:"votes"})).stations||[];if(console.log(`[GenreList] ✅ Fetched ${k.length} stations from API`),k.length>0){d(A=>[...A,...k]),w(A=>A+100);const R=k.length>=100;p(R),console.log(`[GenreList] After load: total=${f.length+k.length}, hasMore=${R}, nextOffset=${m+100}`)}else p(!1),console.log("[GenreList] No more stations available")}catch(L){console.error("[GenreList] Failed to fetch more stations:",L),p(!1)}finally{y(!1)}});x.useEffect(()=>{const L=r.current;if(!L)return;const k=()=>{const{scrollTop:R,scrollHeight:A,clientHeight:W}=L;A-R-W<1e3&&S&&!b&&(console.log("[GenreList] 📜 Scroll trigger - loading more stations"),E())};return L.addEventListener("scroll",k),()=>L.removeEventListener("scroll",k)},[S,b,m]);const I=q("images/fallback-station.png"),C=L=>L.favicon&&L.favicon!=="null"&&L.favicon.trim()!==""?L.favicon.startsWith("http")?L.favicon:`https://themegaradio.com/api/image/${encodeURIComponent(L.favicon)}`:I,N=L=>L.tags?Array.isArray(L.tags)?L.tags:L.tags.split(",").map(k=>k.trim()):[],j=L=>{const k=N(L);return k.length>0?k[0]:L.country||"Radio"},F=["/discover-no-user","/genres","/search","/favorites","/settings"],_=5,$=5+f.length;console.log("🎯 [GENRE LIST DEBUG] Focus setup:",{totalItems:$,displayedStations:f.length,stationsStart:_,willStartAt:_});const Y=L=>{const k=J;let R=k;if(k>=0&&k<=4)L==="DOWN"?R=k<4?k+1:k:L==="UP"?R=k>0?k-1:k:L==="RIGHT"&&(R=_);else if(k>=_){const A=k-_,W=Math.floor(A/7),oe=A%7;if(L==="LEFT")oe>0?R=k-1:R=1;else if(L==="RIGHT")oe<6&&k<$-1&&(R=k+1);else if(L==="UP")W>0?R=k-7:R=1;else if(L==="DOWN"){const ye=k+7;ye<$&&(R=ye)}}R=Math.max(0,Math.min($-1,R)),H(R)},{focusIndex:J,setFocusIndex:H,handleSelect:X,handleBack:re,isFocused:M}=ko({totalItems:$,cols:1,initialIndex:0,onSelect:L=>{if(L>=0&&L<=4){const k=F[L];t(k)}else if(L>=_){const k=L-_,R=f[k];R&&t(`/radio-playing?station=${R._id}`)}},onBack:()=>t("/genres")});return x.useEffect(()=>{const L=k=>{const{index:R}=k.detail;console.log("[GenreList] focusSidebar event received, jumping to index:",R),H(R)};return window.addEventListener("focusSidebar",L),()=>{window.removeEventListener("focusSidebar",L)}},[H]),x.useEffect(()=>{f.length>0&&J<_&&(console.log("[GenreList] 🎯 Stations loaded, jumping to first station (index 5)"),H(_))},[f.length]),x.useEffect(()=>{if(J>=_&&r.current){const L=J-_,k=r.current,R=k.querySelector(`[data-station-index="${L}"]`);if(R){const A=k.getBoundingClientRect(),W=R.getBoundingClientRect(),oe=W.top-A.top+k.scrollTop,ye=oe+W.height,Ce=k.scrollTop,ce=k.clientHeight,it=Ce,lo=Ce+ce,dn=200,lt=100;oe<it+dn?k.scrollTo({top:Math.max(0,oe-dn),behavior:"smooth"}):ye>lo-lt&&k.scrollTo({top:ye-ce+lt,behavior:"smooth"})}}},[J]),x.useEffect(()=>{if(J>=_){const L=J-_;f.length-L<=14&&S&&!b&&(console.log(`[GenreList] 🎯 Focus trigger - user at station ${L}/${f.length}, loading more`),E())}},[J,_,f.length,S,b]),_t("/genre-list",L=>{const k=window.tvKey;switch(L.keyCode){case(k==null?void 0:k.UP):case 38:Y("UP");break;case(k==null?void 0:k.DOWN):case 40:Y("DOWN");break;case(k==null?void 0:k.LEFT):case 37:Y("LEFT");break;case(k==null?void 0:k.RIGHT):case 39:Y("RIGHT");break;case(k==null?void 0:k.PAGE_UP):case 33:case(k==null?void 0:k.PAGE_DOWN):case 34:i&&(console.log("[GenreList] PAGE_UP/PAGE_DOWN pressed - focusing GlobalPlayer"),L.preventDefault(),s());break;case(k==null?void 0:k.ENTER):case 13:X();break;case(k==null?void 0:k.RETURN):case 461:case 10009:re();break}}),a.jsx(X2,{currentPage:"genres",scrollContainerRef:r,children:a.jsxs("div",{ref:r,className:"relative w-[1920px] h-[1080px] overflow-y-auto","data-testid":"page-genre-list",children:[a.jsx("div",{className:"absolute h-[1292px] left-[-10px] top-[-523px] w-[1939px]",children:a.jsx("img",{alt:"",className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",src:q("images/hand-crowd-disco-1.png")})}),a.jsx("div",{className:"absolute bg-gradient-to-b from-[18.333%] from-[rgba(14,14,14,0)] h-[1080px] left-0 to-[#0e0e0e] to-[15.185%] top-0 w-[1920px]"}),a.jsxs("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[236px] not-italic text-[32px] text-white top-[242px]",children:[u," ",o("radios")||"Radios"]}),f.map((L,k)=>{const R=Math.floor(k/7),W=236+k%7*230,oe=316+R*294;return a.jsx(Te,{href:`/radio-playing?station=${L._id}`,children:a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] h-[264px] overflow-clip rounded-[11px] w-[200px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(M(k+_))}`,style:{left:`${W}px`,top:`${oe}px`},"data-testid":`station-card-${k}`,"data-station-index":k,onClick:()=>t(`/radio-playing?station=${L._id}`),children:[a.jsx("div",{className:"absolute bg-white left-[34px] overflow-clip rounded-[6.6px] size-[132px] top-[34px]",children:a.jsx("img",{alt:L.name,className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",src:C(L),onError:ye=>{ye.target.src=I}})}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[100px] not-italic text-[22px] text-center text-white top-[187px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:L.name}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-light leading-normal left-[100px] not-italic text-[18px] text-center text-white top-[218.2px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:j(L)}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)]"})]})},L._id||k)}),b&&a.jsx("div",{className:"absolute left-[236px] w-[1580px] h-[100px] flex items-center justify-center",style:{top:`${316+Math.ceil(f.length/7)*294}px`},children:a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium text-[24px] text-white",children:o("loading")||"Loading..."})}),!h&&f.length===0&&a.jsxs("div",{className:"absolute left-[236px] top-[450px] w-[1580px] h-[200px] flex flex-col items-center justify-center",children:[a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-bold text-[32px] text-white mb-4",children:o("no_stations_found")||"No Stations Found"}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-light text-[24px] text-[#c8c8c8]",children:o("try_different_genre")||"Try a different genre or country"})]})]})})},J2=()=>{var k;console.log("[Search] 🎬 Component mounting/rendering");const[,e]=St(),{selectedCountry:t,selectedCountryCode:n,selectedCountryFlag:o}=Er(),{playStation:r,isPlaying:s,focusGlobalPlayer:i,currentStation:l}=Pn(),{t:c}=ot(),[u,f]=x.useState(""),[d,m]=x.useState(""),w=x.useRef(null),b=x.useRef(null),[y,S]=x.useState([]),[p,g]=x.useState(!1);x.useEffect(()=>(w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{console.log("[Search] 🔍 keywordChange - debounced query:",u),m(u)},400),()=>{w.current&&clearTimeout(w.current)}),[u]);const{data:h}=Vt({queryKey:["/api/stations/search",d],queryFn:()=>Ve.searchStations({q:d,limit:4}),enabled:d.length>0});console.log("🔍 [SEARCH DATA DEBUG]:",{searchData:h,searchDataType:typeof h,searchDataResults:h==null?void 0:h.results,resultsLength:(k=h==null?void 0:h.results)==null?void 0:k.length});const{data:v}=Vt({queryKey:["/api/stations/popular",{limit:6,country:n}],queryFn:()=>Ve.getPopularStations({limit:6,country:n})}),E=d.length>0?(h==null?void 0:h.results)||[]:[];console.log("🔍 [SEARCH DEBUG] Current state:",{searchQuery:u,debouncedSearchQuery:d,visibleSearchResultsLength:E.length,recentlyPlayedLength:y.length}),x.useEffect(()=>{const R=Wm.getStations();S(R),console.log("[Search] Loaded recently played stations:",R.length)},[]);const I=y.length>0?y:(v==null?void 0:v.stations)||[],C=6+E.length+I.length,N=["/discover-no-user","/genres","/search","/favorites","/settings"],j=R=>{console.log("[Search] 🎮 Navigation:",R,"from focusIndex:",_);const A=_;let W=A;if(A>=0&&A<=4)R==="DOWN"?W=A<4?A+1:A:R==="UP"?W=A>0?A-1:A:R==="RIGHT"&&(W=5);else if(A===5)R==="DOWN"?(E.length>0||I.length>0)&&(W=6):R==="RIGHT"?I.length>0&&(W=6+E.length,console.log("[Search] RIGHT from search input - jumping to recently played")):R==="LEFT"&&(W=0);else if(A>=6&&A<6+E.length){const oe=A-6;R==="UP"?oe>0?W=A-1:W=5:R==="DOWN"?oe<E.length-1?W=A+1:I.length>0&&(W=6+E.length):R==="LEFT"&&(W=0)}else if(A>=6+E.length){const oe=6+E.length,ye=A-oe,Ce=Math.floor(ye/2),ce=ye%2;if(R==="LEFT")ce>0?W=A-1:W=0;else if(R==="RIGHT")ce<1&&A<C-1&&(W=A+1);else if(R==="UP")Ce>0?W=A-2:E.length>0?W=6+E.length-1:W=5;else if(R==="DOWN"){const it=A+2;it<C&&(W=it)}}W=Math.max(0,Math.min(C-1,W)),console.log("[Search] 🎯 New focusIndex:",W),$(W)},F=()=>{setTimeout(()=>{if(b.current){const R=b.current.value.length;b.current.setSelectionRange(R,R),console.log("[Search] 📍 Cursor set to end of input, position:",R)}},200)},{focusIndex:_,setFocusIndex:$,handleSelect:Y,isFocused:J}=ko({totalItems:C,cols:1,initialIndex:5,onSelect:R=>{if(console.log("[Search] 🎯 onSelect triggered - index:",R),R>=0&&R<=4){const A=N[R];console.log("[Search] 📍 Sidebar item selected:",R,"route:",A),A!=="#"&&(console.log("[Search] 🚀 Navigating to sidebar route:",A),e(A))}else if(R===5)console.log("[Search] ⌨️  Search input selected"),console.log("[Search] 📝 Focusing input field and setting cursor to end"),b.current?(b.current.focus(),console.log("[Search] ✅ Input focused"),F()):console.log("[Search] ❌ Input ref is null");else if(R>=6&&R<6+E.length){const A=R-6,W=E[A];console.log("[Search] 🎵 Search result selected:",A),W&&(console.log("[Search] ▶️  Playing search result:",W.name,"id:",W._id),r(W),e(`/radio-playing?station=${W._id}`))}else if(R>=6+E.length){const A=R-6-E.length,W=I[A];console.log("[Search] 🕒 Recently played selected:",A),W&&(console.log("[Search] ▶️  Playing recently played:",W.name,"id:",W._id),r(W),e(`/radio-playing?station=${W._id}`))}},onBack:()=>{console.log("[Search] 🔙 Back button pressed - navigating to Discover"),e("/discover-no-user")}});x.useEffect(()=>{const R=A=>{const{index:W}=A.detail;console.log("[Search] focusSidebar event received, jumping to index:",W),$(W)};return window.addEventListener("focusSidebar",R),()=>{window.removeEventListener("focusSidebar",R)}},[$]),x.useEffect(()=>{console.log("[Search] 👁️ focusIndex changed to:",_),_!==5&&b.current&&(console.log("[Search] 🚫 Focus moved away from search input - blurring to prevent keyboard"),b.current.blur())},[_]),_t("/search",R=>{if(p){console.log("[Search] Key event ignored - country selector modal is open");return}const A=window.tvKey;switch(console.log("[Search] ⌨️ Key pressed:",R.keyCode,"key:",R.key),R.keyCode){case(A==null?void 0:A.UP):case 38:console.log("[Search] ⬆️ UP key"),j("UP");break;case(A==null?void 0:A.DOWN):case 40:console.log("[Search] ⬇️ DOWN key"),j("DOWN");break;case(A==null?void 0:A.LEFT):case 37:console.log("[Search] ⬅️ LEFT key"),j("LEFT");break;case(A==null?void 0:A.RIGHT):case 39:console.log("[Search] ➡️ RIGHT key"),j("RIGHT");break;case(A==null?void 0:A.PAGE_UP):case 33:case(A==null?void 0:A.PAGE_DOWN):case 34:l&&(console.log("[Search] PAGE_UP/PAGE_DOWN pressed - focusing GlobalPlayer"),R.preventDefault(),i());break;case(A==null?void 0:A.ENTER):case 13:console.log("[Search] ✅ ENTER key"),Y();break}});const H=q("images/fallback-station.png"),X=R=>R.favicon&&R.favicon!=="null"&&R.favicon.trim()!==""?R.favicon.startsWith("http")?R.favicon:`https://themegaradio.com/api/image/${encodeURIComponent(R.favicon)}`:H,re=R=>R.tags?Array.isArray(R.tags)?R.tags:R.tags.split(",").map(A=>A.trim()):[],M=R=>{const A=re(R);return A.length>0?A[0]:R.country||"Radio"},L=(R,A)=>{if(!A)return a.jsx("span",{className:"text-[#a5a5a5]",children:R});const W=R.toLowerCase().indexOf(A.toLowerCase());return W===-1?a.jsx("span",{className:"text-[#a5a5a5]",children:R}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-[#a5a5a5]",children:R.substring(0,W)}),a.jsx("span",{className:"text-white",children:R.substring(W,W+A.length)}),a.jsx("span",{className:"text-[#a5a5a5]",children:R.substring(W+A.length)})]})};return a.jsxs("div",{className:"relative w-[1920px] h-[1080px] overflow-hidden bg-gradient-to-br from-[#1a1a1a] to-[#0e0e0e]","data-testid":"page-search",children:[a.jsxs("div",{className:"absolute left-[30px] top-[64px] w-[164.421px] h-[57px]",children:[a.jsxs("p",{className:"absolute bottom-0 left-[18.67%] right-0 top-[46.16%] font-['Ubuntu',Helvetica] text-[27.029px] text-white leading-normal whitespace-pre-wrap",children:[a.jsx("span",{className:"font-bold",children:"mega"}),"radio"]}),a.jsx("img",{className:"absolute left-0 bottom-[2.84%] w-[34.8%] h-[97.16%]",alt:"Path",src:q("images/path-8.svg")})]}),a.jsx(Hs,{isOpen:p,onClose:()=>g(!1),selectedCountry:t,onSelectCountry:()=>{g(!1)}}),a.jsx(To,{activePage:"search",isFocused:J,getFocusClasses:de}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[246px] not-italic text-[32px] text-white top-[58px]",children:c("search")||"Search"}),a.jsx("div",{className:`absolute backdrop-blur-[13.621px] backdrop-filter bg-[rgba(255,255,255,0.2)] border-[#717171] border-[2.594px] border-solid h-[91px] left-[246px] rounded-[14px] top-[136px] w-[774px] ${de(J(5))}`,"data-testid":"input-search",children:a.jsxs("div",{className:"h-[91px] overflow-clip relative rounded-[inherit] w-[774px]",children:[a.jsx("input",{ref:b,type:"text",value:u,onChange:R=>{console.log("[Search] 📝 Search query changed to:",R.target.value),f(R.target.value)},onFocus:()=>{console.log("[Search] 🎯 Input focused - keyboard should appear")},onBlur:()=>{console.log("[Search] 👋 Input blurred - keyboard should hide")},placeholder:"Kral Ra",className:"absolute bg-transparent border-0 font-['Ubuntu',Helvetica] font-medium leading-normal left-[88.21px] not-italic outline-none text-[25.94px] text-white top-[29.84px] w-[650px] placeholder:text-[rgba(255,255,255,0.5)]"}),a.jsx("div",{className:"absolute left-[32.43px] size-[31.134px] top-[29.84px] pointer-events-none",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/search-icon.svg")})})]})}),u.length>0&&E.map((R,A)=>{const W=[259,359,459,559],oe=6+A;return a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] box-border flex items-center left-[246px] px-[50px] py-[20px] rounded-[14px] w-[348px] h-[65px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(J(oe))}`,style:{top:`${W[A]}px`},"data-testid":`search-result-${A}`,onMouseEnter:()=>{console.log("[Search] 🖱️ hoverMovie - search result index:",A),$(oe)},onClick:()=>{console.log("[Search] 🎯 onClick - handleMenuClick for search result:",R.name),Y()},children:[a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic text-[22px] truncate w-full",children:L(R.name,u)}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)] rounded-[14px]"})]},R._id||A)}),u.length>0&&E.length===0&&a.jsxs("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[246px] not-italic text-[22px] text-[rgba(255,255,255,0.5)] top-[259px]",children:[c("no_stations_found_for")||"No stations found for",' "',u,'"']}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[1110px] not-italic text-[32px] text-white top-[58px]",children:c("recently_played")||c("recent")||"Recently Played"}),I.map((R,A)=>{const W=Math.floor(A/2),oe=A%2,ye=[1110,1340],Ce=[136,430,724],ce=6+E.length+A;return console.log(`🎨 [RECENTLY PLAYED] Rendering station ${A}:`,{name:R.name,focusIdx:ce,visibleSearchResultsLength:E.length,currentFocusIndex:_,isFocused:J(ce),calculation:`6 + ${E.length} + ${A} = ${ce}`}),a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] h-[264px] overflow-clip rounded-[11px] w-[200px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(J(ce))}`,style:{left:`${ye[oe]}px`,top:`${Ce[W]}px`},"data-testid":`recent-station-${A}`,onMouseEnter:()=>{console.log("[Search] 🖱️ hoverMovie - recent station index:",A),$(ce)},onClick:()=>{console.log("[Search] 🎯 onClick - handleMenuClick for recent station:",R.name),Y()},children:[a.jsx("div",{className:"absolute bg-white left-[34px] overflow-clip rounded-[6.6px] size-[132px] top-[34px]",children:a.jsx("img",{alt:R.name,className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",src:X(R),onError:it=>{it.target.src=H}})}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[100px] not-italic text-[22px] text-center text-white top-[187px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:R.name}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-light leading-normal left-[100px] not-italic text-[18px] text-center text-white top-[218.2px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:M(R)}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)]"})]},R._id||A)})]})},eS=()=>{const{favorites:e}=Uu(),{t}=ot(),[,n]=St();x.useRef(null);const{focusGlobalPlayer:o,currentStation:r}=Pn(),s=["/discover-no-user","/genres","/search","/favorites","/settings"],i=5,l=5+(e.length||1),{focusIndex:c,handleNavigation:u,handleSelect:f,handleBack:d,isFocused:m,setFocusIndex:w}=ko({totalItems:l,cols:1,initialIndex:i,onSelect:h=>{if(h>=0&&h<=4)n(s[h]);else if(h>=i)if(e.length===0)n("/discover-no-user");else{const v=h-i,E=e[v];E&&n(`/radio-playing?station=${E._id}`)}},onBack:()=>n("/discover-no-user")});x.useEffect(()=>{const h=v=>{const{index:E}=v.detail;console.log("[Favorites] focusSidebar event received, jumping to index:",E),w(E)};return window.addEventListener("focusSidebar",h),()=>{window.removeEventListener("focusSidebar",h)}},[w]);const b=h=>{const v=c;let E=v;if(v>=0&&v<=4)h==="DOWN"?E=v<4?v+1:v:h==="UP"?E=v>0?v-1:v:h==="RIGHT"&&(E=i);else if(v>=i){const I=v-i,C=Math.floor(I/7),N=I%7;if(h==="LEFT")N>0?E=v-1:E=3;else if(h==="RIGHT")N<6&&v<l-1&&(E=v+1);else if(h==="UP")C>0&&(E=v-7);else if(h==="DOWN"){const j=v+7;j<l&&(E=j)}}w(E)};_t("/favorites",h=>{const v=window.tvKey;switch(h.keyCode){case(v==null?void 0:v.UP):case 38:b("UP");break;case(v==null?void 0:v.DOWN):case 40:b("DOWN");break;case(v==null?void 0:v.LEFT):case 37:b("LEFT");break;case(v==null?void 0:v.RIGHT):case 39:b("RIGHT");break;case(v==null?void 0:v.PAGE_UP):case 33:case(v==null?void 0:v.PAGE_DOWN):case 34:r&&(console.log("[Favorites] PAGE_UP/PAGE_DOWN pressed - focusing GlobalPlayer"),h.preventDefault(),o());break;case(v==null?void 0:v.ENTER):case 13:f();break;case(v==null?void 0:v.RETURN):case 461:case 10009:d();break}});const y=q("images/fallback-station.png"),S=h=>h.favicon&&h.favicon!=="null"&&h.favicon.trim()!==""?h.favicon.startsWith("http")?h.favicon:`https://themegaradio.com/api/image/${encodeURIComponent(h.favicon)}`:y,p=h=>h.tags?Array.isArray(h.tags)?h.tags:h.tags.split(",").map(v=>v.trim()):[],g=h=>{const v=p(h);return v.length>0?v[0]:h.country||"Radio"};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute inset-0 w-[1920px] h-[1080px] overflow-hidden","data-testid":"page-favorites",children:[a.jsx("div",{className:"absolute h-[1292px] left-[-10px] top-[-523px] w-[1939px]",children:a.jsx("img",{alt:"",className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",src:q("images/hand-crowd-disco-1.png")})}),a.jsx("div",{className:"absolute bg-gradient-to-b from-[18.704%] from-[rgba(14,14,14,0)] h-[1080px] left-0 to-[#0e0e0e] to-[25.787%] top-0 w-[1920px]"}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[236px] not-italic text-[32px] text-white top-[242px]",children:t("your_favorites")||"Your Favorites"}),e.length===0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute left-[986px] size-[124px] top-[365px]",children:a.jsxs("svg",{viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[a.jsx("circle",{cx:"62",cy:"62",r:"62",fill:"rgba(255, 255, 255, 0.1)"}),a.jsx("path",{d:"M62 85.25C61.2396 85.25 60.4792 85.0208 59.8604 84.5625C55.4375 81.2292 51.4479 78.3021 48.4792 75.4167C43.9479 70.9729 40.75 66.8896 40.75 61.25C40.75 53.2917 47 47 54.5625 47C58.1042 47 61.4167 48.7708 63.625 51.7604C65.8333 48.7708 69.1458 47 72.6875 47C80.25 47 86.5 53.2917 86.5 61.25C86.5 66.8896 83.3021 70.9729 78.7708 75.4375C75.8021 78.3229 71.8125 81.25 67.3896 84.5833C66.7708 85.0208 66.0104 85.25 65.25 85.25H62Z",fill:"#FF4199"})]})}),a.jsxs("div",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[1047.5px] not-italic text-[32px] text-center text-white top-[504px] translate-x-[-50%]",children:[a.jsx("p",{className:"mb-2",children:t("no_favorites_yet")||t("you_dont_have_any_favorites_yet")||"You don't have any"}),a.jsx("p",{children:t("favorites_yet")||"favorites yet"})]}),a.jsx(Te,{href:"/discover-no-user",children:a.jsxs("div",{className:`absolute left-[calc(50%+87.5px)] top-[calc(50%+98px)] translate-x-[-50%] cursor-pointer hover:opacity-80 transition-opacity ${de(m(i))}`,"data-testid":"button-discover-cta",onClick:()=>n("/discover-no-user"),children:[a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic text-[#ff4199] text-[24px] text-center",children:t("discover_stations_near_you")||"Discover stations near to you!"}),a.jsx("div",{className:"absolute left-[calc(100%+10px)] top-[50%] translate-y-[-50%] size-[38px]",children:a.jsx("svg",{viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:a.jsx("path",{d:"M14.25 28.5L23.75 19L14.25 9.5",stroke:"#FF4199",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}):a.jsx(a.Fragment,{children:e.map((h,v)=>{const E=Math.floor(v/7),C=236+v%7*230,N=316+E*294;return a.jsx(Te,{href:`/radio-playing?station=${h._id}`,children:a.jsxs("div",{className:`absolute bg-[rgba(255,255,255,0.14)] h-[264px] overflow-clip rounded-[11px] w-[200px] cursor-pointer hover:bg-[rgba(255,255,255,0.2)] transition-colors ${de(m(i+v))}`,style:{left:`${C}px`,top:`${N}px`},"data-testid":`station-card-${v}`,onClick:()=>n(`/radio-playing?station=${h._id}`),children:[a.jsx("div",{className:"absolute bg-white left-[34px] overflow-clip rounded-[6.6px] size-[132px] top-[34px]",children:a.jsx("img",{alt:h.name,className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full",src:S(h),onError:j=>{j.target.src=y}})}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-medium leading-normal left-[100px] not-italic text-[22px] text-center text-white top-[187px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:h.name}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-light leading-normal left-[100px] not-italic text-[18px] text-center text-white top-[218.2px] translate-x-[-50%] truncate px-2 max-w-[180px]",children:g(h)}),a.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_1.1px_1.1px_12.1px_0px_rgba(255,255,255,0.12)]"})]})},h._id||v)})})]}),a.jsx(To,{activePage:"favorites",isFocused:m,getFocusClasses:de})]})},tS=()=>{const{t:e}=ot(),[,t]=St(),[n,o]=x.useState("last-played"),{focusGlobalPlayer:r,currentStation:s}=Pn(),i=["/discover-no-user","/genres","/search","/favorites","/settings"],l=["last-played","random","favorite","none"],c=9,{focusIndex:u,handleNavigation:f,handleSelect:d,handleBack:m,isFocused:w}=ko({totalItems:c,cols:1,initialIndex:5,onSelect:y=>{if(y<5){const S=i[y];t(S)}else{const S=y-5;b(l[S])}},onBack:()=>t("/discover-no-user")});x.useEffect(()=>{const y=S=>{const{index:p}=S.detail;console.log("[Settings] focusSidebar event received, jumping to index:",p),setFocusIndex(p)};return window.addEventListener("focusSidebar",y),()=>{window.removeEventListener("focusSidebar",y)}},[setFocusIndex]),_t("/settings",y=>{const S=window.tvKey;switch(y.keyCode){case(S==null?void 0:S.UP):case 38:f("UP");break;case(S==null?void 0:S.DOWN):case 40:f("DOWN");break;case(S==null?void 0:S.LEFT):case 37:f("LEFT");break;case(S==null?void 0:S.RIGHT):case 39:f("RIGHT");break;case(S==null?void 0:S.PAGE_UP):case 33:case(S==null?void 0:S.PAGE_DOWN):case 34:s&&(console.log("[Settings] PAGE_UP/PAGE_DOWN pressed - focusing GlobalPlayer"),y.preventDefault(),r());break;case(S==null?void 0:S.ENTER):case 13:d();break;case(S==null?void 0:S.RETURN):case 461:case 10009:m();break}}),x.useEffect(()=>{const y=localStorage.getItem("playAtStart");y&&["last-played","random","favorite","none"].includes(y)&&o(y)},[]);const b=y=>{o(y),localStorage.setItem("playAtStart",y),console.log("[Settings] Play at start mode changed to:",y)};return a.jsxs("div",{className:"absolute inset-0 w-[1920px] h-[1080px] overflow-hidden","data-testid":"page-settings",children:[a.jsx("div",{className:"absolute h-[1292px] left-[-10px] top-[-523px] w-[1939px]",children:a.jsx("img",{alt:"",className:"absolute inset-0 max-w-none object-center object-cover pointer-events-none size-full",src:q("images/hand-crowd-disco-1.png")})}),a.jsx("div",{className:"absolute bg-[#0e0e0e] h-[1080px] left-0 top-0 w-[1920px]"}),a.jsxs("div",{className:"absolute h-[57px] left-[31px] top-[64px] w-[164.421px] z-50",children:[a.jsxs("p",{className:"absolute bottom-0 font-['Ubuntu',Helvetica] leading-normal left-[18.67%] not-italic right-0 text-[27.029px] text-white top-[46.16%] whitespace-pre-wrap",children:[a.jsx("span",{className:"font-bold",children:"mega"}),"radio"]}),a.jsx("div",{className:"absolute bottom-[2.84%] left-0 right-[65.2%] top-0",children:a.jsx("img",{alt:"",className:"block max-w-none size-full",src:q("images/path-8.svg")})})]}),a.jsx(To,{activePage:"settings",isFocused:w,getFocusClasses:de}),a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[236px] not-italic text-[32px] text-white top-[242px] z-10",children:e("settings")||"Settings"}),a.jsxs("div",{className:"absolute bg-[#1f1f1f] h-[400px] left-[50%] translate-x-[-50%] overflow-clip rounded-[20px] top-[350px] w-[886px] z-10",children:[a.jsx("p",{className:"absolute font-['Ubuntu',Helvetica] font-bold leading-normal left-[30px] not-italic text-[24px] text-white top-[30px]",children:e("settings_play_at_start")||"Play at Start"}),a.jsxs("div",{className:`absolute left-[30px] top-[95px] flex items-center gap-[20px] cursor-pointer ${de(w(5))}`,onClick:()=>b("last-played"),"data-testid":"option-last-played",children:[a.jsx("div",{className:"border-[#ff4199] border-[3.84px] border-solid rounded-[20px] size-[32px] relative cursor-pointer",children:a.jsx("div",{className:"overflow-clip relative rounded-[inherit] size-[32px]",children:n==="last-played"&&a.jsx("div",{className:"absolute bg-[#ff4199] left-[6.4px] rounded-[28px] size-[19.2px] top-[6.4px]"})})}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic text-[22px] text-white pointer-events-none",children:e("settings_last_played")||"Last Played"})]}),a.jsxs("div",{className:`absolute left-[30px] top-[152px] flex items-center gap-[20px] cursor-pointer ${de(w(6))}`,onClick:()=>b("random"),"data-testid":"option-random",children:[a.jsx("div",{className:"border-[#ff4199] border-[3.84px] border-solid rounded-[20px] size-[32px] relative cursor-pointer",children:a.jsx("div",{className:"overflow-clip rounded-[inherit] size-[32px]",children:n==="random"&&a.jsx("div",{className:"absolute bg-[#ff4199] left-[6.4px] rounded-[28px] size-[19.2px] top-[6.4px]"})})}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic text-[22px] text-white pointer-events-none",children:e("settings_random")||"Random"})]}),a.jsxs("div",{className:`absolute left-[30px] top-[209px] flex items-center gap-[20px] cursor-pointer ${de(w(7))}`,onClick:()=>b("favorite"),"data-testid":"option-favorite",children:[a.jsx("div",{className:"border-[#ff4199] border-[3.84px] border-solid rounded-[20px] size-[32px] relative cursor-pointer",children:a.jsx("div",{className:"overflow-clip rounded-[inherit] size-[32px]",children:n==="favorite"&&a.jsx("div",{className:"absolute bg-[#ff4199] left-[6.4px] rounded-[28px] size-[19.2px] top-[6.4px]"})})}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic text-[22px] text-white pointer-events-none",children:e("settings_favorite")||"Favorite"})]}),a.jsxs("div",{className:`absolute left-[30px] top-[266px] flex items-center gap-[20px] cursor-pointer ${de(w(8))}`,onClick:()=>b("none"),"data-testid":"option-none",children:[a.jsx("div",{className:"border-[#ff4199] border-[3.84px] border-solid rounded-[20px] size-[32px] relative cursor-pointer",children:a.jsx("div",{className:"overflow-clip rounded-[inherit] size-[32px]",children:n==="none"&&a.jsx("div",{className:"absolute bg-[#ff4199] left-[6.4px] rounded-[28px] size-[19.2px] top-[6.4px]"})})}),a.jsx("p",{className:"font-['Ubuntu',Helvetica] font-medium leading-normal not-italic text-[22px] text-white pointer-events-none",children:e("settings_none")||"None"})]})]})]})};function nS(){return a.jsx(_h,{hook:Dh,children:a.jsxs(fy,{children:[a.jsx(pt,{path:"/",component:A2}),a.jsx(pt,{path:"/login",component:H2}),a.jsx(pt,{path:"/guide-1",component:B2}),a.jsx(pt,{path:"/guide-2",component:W2}),a.jsx(pt,{path:"/guide-3",component:V2}),a.jsx(pt,{path:"/guide-4",component:K2}),a.jsx(pt,{path:"/discover-no-user",component:Q2}),a.jsx(pt,{path:"/radio-playing",component:Y2}),a.jsx(pt,{path:"/genres",component:q2}),a.jsx(pt,{path:"/genre-list/:genre?",component:Z2}),a.jsx(pt,{path:"/search",component:J2}),a.jsx(pt,{path:"/favorites",component:eS}),a.jsx(pt,{path:"/settings",component:tS}),a.jsx(pt,{component:I2})]})})}function oS(){return a.jsx(My,{client:Xy,children:a.jsx(w2,{children:a.jsx(b2,{children:a.jsx(S2,{children:a.jsx(C2,{children:a.jsx(N2,{children:a.jsxs(a2,{children:[a.jsx(M1,{}),a.jsx(nS,{}),a.jsx(R2,{})]})})})})})})})}console.log("🔥 MAIN.TSX LOADED - VERSION 2.1 - ALL GENRES FIX"),xh(document.getElementById("root")).render(a.jsx(oS,{}))})();
   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ^
132|
    at Q2 /home/runner/workspace/tv-app/assets/index-1761302259424.js:131:34122
    at uc /home/runner/workspace/tv-app/assets/index-1761302259424.js:38:17007
    at ch /home/runner/workspace/tv-app/assets/index-1761302259424.js:40:43989
    at sh /home/runner/workspace/tv-app/assets/index-1761302259424.js:40:39750
    at P0 /home/runner/workspace/tv-app/assets/index-1761302259424.js:40:39678
    at el /home/runner/workspace/tv-app/assets/index-1761302259424.js:40:39531
    at Mc /home/runner/workspace/tv-app/assets/index-1761302259424.js:40:35895
    at nh /home/runner/workspace/tv-app/assets/index-1761302259424.js:40:36701
    at Un /home/runner/workspace/tv-app/assets/index-1761302259424.js:38:3283
    at /home/runner/workspace/tv-app/assets/index-1761302259424.js:40:34227
Click outside, press Esc key, or fix the code to dismiss.
You can also disable this overlay by setting server.hmr.overlay to false in vite.config.js.